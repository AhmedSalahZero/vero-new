import{a4 as ne,a5 as k,aj as F,a7 as oe,c as i,h as r,o as n,a as e,Z as m,X as p,_ as x,W as c,a9 as d,aa as P,a6 as C,ab as v,t as q,A as I,a8 as ee,ae as de,af as ue,ag as re,ah as ce,ai as me}from"./sweetalert2.esm.all-DYUtdcnG.js";const fe={key:0},pe={class:"kt-portlet"},ve={class:"kt-portlet__body"},be={class:"row"},he={class:"col-md-1"},ge={class:"d-flex justify-content-end"},_e={key:0,class:"row mt-4"},ye={class:"col-md-12"},xe={class:"table"},we=["data-repeater-style"],Ve={class:"text-center"},ke=["disabled","onClick"],Fe={class:"row"},Te={class:"col-md-6"},Re=["disabled"],De={class:"col-md-6"},Ce={class:"d-flex justify-content-end",style:{gap:"5px"}},Ue=["disabled"],Le={key:0,class:"spinner-border mr-2 spinner-border-sm mb-1",role:"status","aria-hidden":"true"},Ee=["innerHTML"],Pe=["disabled","value"],qe={key:0,class:"kt-portlet"},Se={class:"kt-portlet__body"},$e={class:"row"},Oe={class:"col-md-1"},je={class:"d-flex justify-content-end"},Ge={key:0,class:"row mt-4"},Ne={class:"col-md-12 overflow-scroll"},Me={class:"table"},Ye={key:0,class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},He={class:"text-left d-inline-block"},Xe={key:1,class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},Ke={class:"d-flex align-items-center",style:{gap:"10px"}},Ze={class:"text-left d-inline-block"},Qe=["onClick"],We=["data-repeater-style"],ze={class:"d-flex flex-column align-items-start"},Je=["value"],Be={key:0},Ae={class:"d-flex flex-column align-items-center"},Ie=["onClick"],et={key:1},tt=["data-repeater-style"],lt={key:0},st={class:"d-flex flex-column align-items-center mt-2"},at={key:1},it={key:1,class:"kt-portlet"},nt={class:"kt-portlet__body"},ot={class:"row"},dt={class:"col-md-1"},ut={class:"d-flex justify-content-end"},rt={key:0,class:"row mt-4"},ct={class:"col-md-12 overflow-scroll"},mt={class:"table"},ft={class:"text-left d-inline-block"},pt={key:0,"data-repeater-style":1},vt={class:"d-flex flex-column align-items-center mt-2"},bt=["onClick"],ht={key:1,"data-repeater-style":1},gt={class:"d-flex flex-column align-items-center mt-2"},_t=["onClick"],yt={key:2,class:"kt-portlet"},xt={class:"kt-portlet__body"},wt={class:"row"},Vt={class:"col-md-1"},kt={class:"d-flex justify-content-end"},Ft={key:0,class:"row mt-4"},Tt={class:"col-md-12 overflow-scroll"},Rt={class:"table"},Dt={key:0,class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},Ct={class:"text-left d-inline-block"},Ut={key:1,class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},Lt={class:"d-flex align-items-center",style:{gap:"10px"}},Et={class:"text-left d-inline-block"},Pt=["onClick"],qt={"data-repeater-style":1},St={key:0},$t={class:"d-flex min-w-percentage mx-auto mt-2 text-center flex-column align-items-center"},Ot=["onClick"],jt={key:1},Gt={"data-repeater-style":2},Nt={key:0},Mt={class:"d-flex flex-column align-items-center"},Yt={key:1},Ht={"data-repeater-style":3},Xt={key:0},Kt={class:"d-flex min-w-percentage mx-auto mt-3 text-center flex-column align-items-center"},Zt=["onClick"],Qt={key:1},Wt={"data-repeater-style":4},zt={key:0},Jt={class:"d-flex flex-column align-items-center mt-3"},Bt={key:1},At={class:"col-md-12"},It={class:"d-flex align-items-center justify-content-end",style:{gap:"5px"}},el=["disabled"],tl={key:0,class:"spinner-border mr-2 spinner-border-sm mb-1",role:"status","aria-hidden":"true"},ll=["innerHTML"],sl={__name:"LeasingComponent",setup(il){const y=k([]),w=k({loansTableRef:[],fundingTableRef:[]}),Y=F(()=>y.value.map(o=>o.split("`").pop())),g=k([]),H=(o,t)=>{const s=g.value.indexOf(t),l=g.value[s-1]+1||0,a=w.value[o].includes(t);for(let f=l;f<=t;f++)a?w.value[o]=w.value[o].filter(b=>!(b>=l&&b<=t)):w.value[o].push(f)},te=F(()=>{const o={loanAmounts:u.value?.loan_amounts?.sub_items},t={};for(const[s,l]of Object.entries(o)){if(!l||!g.value.length){t[s]={subRowTotals:{},totalPerColumns:{},totalRowTotals:{per_year:{},total:0}};continue}const a={subRowTotals:{},totalPerColumns:{},totalRowTotals:{per_year:{},total:0}};for(const b in l){a.subRowTotals[b]={per_year:{},total:0};let h=0;for(const R of g.value){let M=0;for(let E=h;E<=R;E++){const A=parseFloat(l[b][E]||0);M+=A,a.totalPerColumns[E]=(a.totalPerColumns[E]||0)+A}a.subRowTotals[b].per_year[R]=M,a.subRowTotals[b].total+=M,h=R+1}}let f=0;for(const b of g.value){let h=0;for(let R=f;R<=b;R++)h+=a.totalPerColumns[R]||0;a.totalRowTotals.per_year[b]=h,a.totalRowTotals.total+=h,f=b+1}t[s]=a}return t}),G=F(()=>te.value.loanAmounts||{}),S=F(()=>G.value.subRowTotals),N=F(()=>G.value.totalPerColumns),$=F(()=>G.value.totalRowTotals),U=F(()=>{if(!u.value?.equity_funding_rates||!y.value.length)return{equityFundingValues:[],equityTotals:{per_year:{},total:0},newLoansFundingRates:[],newLoansFundingValues:[],newLoansTotals:{per_year:{},total:0}};const o={equityFundingValues:[],equityTotals:{per_year:{},total:0},newLoansFundingRates:[],newLoansFundingValues:[],newLoansTotals:{per_year:{},total:0}};if(y.value.forEach((t,s)=>{const l=u.value.equity_funding_rates[s]||0,a=N.value[s]||0;o.equityFundingValues[s]=a*(l/100),o.newLoansFundingRates[s]=100-l,o.newLoansFundingValues[s]=a*(o.newLoansFundingRates[s]/100)}),g.value.length){let t=0;for(const s of g.value){let l=0,a=0;for(let f=t;f<=s;f++)l+=o.equityFundingValues[f]||0,a+=o.newLoansFundingValues[f]||0;o.equityTotals.per_year[s]=l,o.newLoansTotals.per_year[s]=a,o.equityTotals.total+=l,o.newLoansTotals.total+=a,t=s+1}}return u.value.equity_funding_values=o.equityFundingValues,u.value.new_loans_funding_rates=o.newLoansFundingRates,u.value.new_loans_funding_values=o.newLoansFundingValues,o}),X=F(()=>U.value.equityFundingValues),K=F(()=>U.value.equityTotals),Z=F(()=>U.value.newLoansFundingRates),Q=F(()=>U.value.newLoansFundingValues),W=F(()=>U.value.newLoansTotals),T=k(!1),_=k(!0),O=k(!1),D=k(!0),le=k(null),z=k(null),J=k({}),u=k(null),V=k({leasingRevenueStreamBreakdown:!0,loanAmounts:!0,feesRates:!0,fundingStructure:!0}),L=(o,t)=>{C.repeatRight(o,t)},se=o=>{const t=u.value[o].empty_row;return u.value[o].sub_items.push({...t})},ae=(o,t)=>{u.value[t].sub_items.splice(o,1)},ie=()=>{const o=document.querySelector("body"),t=o.dataset.token,s=o.dataset.baseUrl,l=o.dataset.currentCompanyId,a=o.dataset.studyId,f=o.dataset.lang,b=`${s}/${f}/${l}/non-banking-financial-services/study/${a}/leasing-fetch-old-data`;ee.get(b,{headers:{"X-CSRF-TOKEN":t,Accept:"application/json"}}).then(h=>{le.value=h.data.studyStartDate,O.value=h.data.hasEnteredRevenueStreamBreakdown,y.value=h.data.dates,g.value=h.data.lastMonthIndexInEachYear,_.value=!h.data.hasEnteredRevenueStreamBreakdown,u.value=h.data.model,J.value=h.data.selectOptions,z.value=h.data.submitUrl,D.value=!1}).catch(h=>{D.value=!1;const R=h.response?.data?.message||"An error occurred";Swal.fire({icon:"error",title:"Oops...",text:R})})},B=o=>{u.value.submit_button=o.target.getAttribute("data-button-value"),T.value=!0;const s=document.querySelector("body").dataset.token;ee.post(z.value,u.value,{headers:{"X-CSRF-TOKEN":s,Accept:"application/json"}}).then(l=>{T.value=!1,window.location.href=l.data.redirectTo}).catch(l=>{const a=l.response?.data?.message||"An error occurred";T.value=!1,Swal.fire({icon:"error",title:"Oops...",text:a})})};return oe(()=>{ie()}),(o,t)=>D.value?r("",!0):(n(),i("div",fe,[e("div",pe,[e("div",ve,[e("div",be,[t[7]||(t[7]=e("div",{class:"col-md-11"},[e("div",{class:"d-flex align-items-center"},[e("h3",{class:"font-weight-bold form-label kt-subheader__title small-caps"}," Leasing Revenue Stream ")])],-1)),e("div",he,[e("div",ge,[e("div",{onClick:t[0]||(t[0]=s=>V.value.leasingRevenueStreamBreakdown=!V.value.leasingRevenueStreamBreakdown),class:"btn show-hide-style"}," Show/Hide ")])]),t[8]||(t[8]=e("div",{class:"col-md-12"},[e("hr",{style:{"background-color":"lightgray"}})],-1))]),V.value.leasingRevenueStreamBreakdown?(n(),i("div",_e,[e("div",ye,[e("table",xe,[t[10]||(t[10]=e("thead",null,[e("tr",null,[e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class-16"},[e("div",{class:"d-flex align-items-center justify-content-center"},[e("span",null,[m("Leasing "),e("br"),m(" Category")])])]),e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class-13"},[e("span",{class:"text-left d-inline-block"},[m("Loan "),e("br"),m(" Nature")])]),e("th",{class:"form-label font-weight-bold text-center align-middle loan-type-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Loan "),e("br"),m(" Type")])]),e("th",{class:"form-label font-weight-bold text-center align-middle rate-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Tenor "),e("br"),m(" Months")])]),e("th",{class:"form-label font-weight-bold text-center align-middle rate-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Grace "),e("br"),m(" Period")])]),e("th",{class:"form-label font-weight-bold text-center align-middle rate-class header-border-down"},[e("span",{class:"text-left d-inline-block min-w-percentage"},[m("Spread "),e("br"),m("Rate")])]),e("th",{class:"form-label font-weight-bold text-center align-middle interval-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Installment "),e("br"),m(" Interval")])]),e("th",{class:"form-label font-weight-bold text-center align-middle rate-class header-border-down"},[e("span",{class:"text-left d-inline-block min-w-percentage"},[m("Step "),e("br"),m("Rate (+/-)")])]),e("th",{class:"form-label font-weight-bold text-center align-middle interval-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Step "),e("br"),m("Interval")])]),e("th",{class:"form-label font-weight-bold text-center align-middle col-md-1 action-class"},[e("div",{class:"d-flex align-items-center justify-content-center"},[e("span",{class:""},"Ã—")])])])],-1)),e("tbody",null,[(n(!0),i(p,null,x(u.value.leasingRevenueStreamBreakdown.sub_items,(s,l)=>(n(),i("tr",{key:l,"data-repeater-style":l+1},[e("td",null,[c(d(P),{disabled:!_.value,filter:"",modelValue:s.category_id,"onUpdate:modelValue":a=>s.category_id=a,options:J.value.leasingCategories,optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])]),e("td",null,[c(d(P),{disabled:!_.value,filter:"",modelValue:s.loan_nature,"onUpdate:modelValue":a=>s.loan_nature=a,options:d(C).loanNatures(),optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])]),e("td",null,[c(d(P),{disabled:!_.value,filter:"",modelValue:s.loan_type,"onUpdate:modelValue":a=>s.loan_type=a,options:d(C).loanTypes(),optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])]),e("td",null,[c(d(v),{disabled:!_.value,modelValue:s.tenor,"onUpdate:modelValue":a=>s.tenor=a,min:1,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:0,fluid:""},null,8,["disabled","modelValue","onUpdate:modelValue"])]),e("td",null,[c(d(v),{disabled:!_.value||!s.loan_type.includes("grace"),modelValue:s.grace_period,"onUpdate:modelValue":a=>s.grace_period=a,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:0,fluid:""},null,8,["disabled","modelValue","onUpdate:modelValue"])]),e("td",null,[c(d(v),{disabled:!_.value,maxFractionDigits:2,step:.25,min:0,"input-class":"text-center",max:100,mode:"decimal",showButtons:"",modelValue:s.margin_rate,"onUpdate:modelValue":a=>s.margin_rate=a,suffix:" %",fluid:""},null,8,["disabled","modelValue","onUpdate:modelValue"])]),e("td",null,[c(d(P),{disabled:!_.value,filter:"",modelValue:s.installment_interval,"onUpdate:modelValue":a=>s.installment_interval=a,options:d(C).getInstallmentInterest(),optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])]),e("td",null,[c(d(v),{disabled:!_.value||!s.loan_type.includes("step"),maxFractionDigits:2,step:.25,min:0,"input-class":"text-center",max:100,mode:"decimal",showButtons:"",modelValue:s.step_rate,"onUpdate:modelValue":a=>s.step_rate=a,suffix:" %",fluid:""},null,8,["disabled","modelValue","onUpdate:modelValue"])]),e("td",null,[c(d(P),{disabled:!_.value,filter:"",modelValue:s.step_interval,"onUpdate:modelValue":a=>s.step_interval=a,options:d(C).getStepIntervals(),optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])]),e("td",Ve,[e("button",{disabled:!_.value,onClick:a=>ae(l,"leasingRevenueStreamBreakdown"),type:"button",class:"btn btn-danger btn-md btn-danger-style ml-2",title:"Delete"},[...t[9]||(t[9]=[e("i",{class:"fas exclude-icon fa-trash trash-icon"},null,-1)])],8,ke)])],8,we))),128))])]),e("div",Fe,[e("div",Te,[e("input",{disabled:!_.value,onClick:t[1]||(t[1]=s=>se("leasingRevenueStreamBreakdown")),type:"button",class:"btn btn-primary btn-sm text-white",value:"Add New"},null,8,Re)]),e("div",De,[e("div",Ce,[D.value?r("",!0):(n(),i("button",{key:0,onClick:B,disabled:T.value||!_.value,"data-button-value":"save-categories",type:"submit",class:"btn text-white active-style save-form"},[T.value?(n(),i("span",Le)):r("",!0),e("span",{class:"text-lg","data-button-value":"save-categories",innerHTML:T.value?"Saving...":"Save"},null,8,Ee)],8,Ue)),D.value?r("",!0):(n(),i("input",{key:1,disabled:T.value,type:"submit",class:"btn text-white active-style save-form",onClick:t[2]||(t[2]=s=>_.value=!_.value),value:_.value?"Disable Edit":"Enable Edit"},null,8,Pe))])])])])])):r("",!0)])]),O.value?(n(),i("div",qe,[e("div",Se,[e("div",$e,[t[11]||(t[11]=e("div",{class:"col-md-11"},[e("div",{class:"d-flex align-items-center"},[e("h3",{class:"font-weight-bold form-label kt-subheader__title small-caps"}," Leasing Revenue Projection By Category [you can use the three dots to repeat within the same year] ")])],-1)),e("div",Oe,[e("div",je,[e("div",{onClick:t[3]||(t[3]=s=>V.value.loanAmounts=!V.value.loanAmounts),class:"btn show-hide-style"}," Show/Hide ")])]),t[12]||(t[12]=e("div",{class:"col-md-12"},[e("hr",{style:{"background-color":"lightgray"}})],-1))]),V.value.loanAmounts?(n(),i("div",Ge,[e("div",Ne,[e("table",Me,[e("thead",null,[e("tr",null,[t[15]||(t[15]=e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class"}," Item ",-1)),(n(!0),i(p,null,x(y.value,(s,l)=>(n(),i(p,{key:l},[w.value.loansTableRef.includes(l)?r("",!0):(n(),i("th",Ye,[e("span",He,q(s),1)])),g.value.includes(l)?(n(),i("th",Xe,[e("div",Ke,[e("span",Ze,[t[13]||(t[13]=m("Total Yr. ",-1)),t[14]||(t[14]=e("br",null,null,-1)),m(" "+q(Y.value[l]),1)]),e("i",{onClick:a=>H("loansTableRef",l),title:"Expand / Collapse",class:"cursor-pointer fa fa-expand-arrows-alt text-primary exclude-icon"},null,8,Qe)])])):r("",!0)],64))),128)),t[16]||(t[16]=e("th",{class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},[e("div",{class:"d-flex flex-column align-items-center",style:{gap:"10px"}},[e("span",{class:""},[m("Total "),e("br")])])],-1))])]),e("tbody",null,[(n(!0),i(p,null,x(u.value.leasingRevenueStreamBreakdown.sub_items,(s,l)=>(n(),i(p,{key:l},[u.value.loan_amounts.sub_items[s.id]?(n(),i("tr",{key:0,"data-repeater-style":l+1},[e("td",null,[e("div",ze,[e("input",{value:u.value.loan_amounts.names[s.id],disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"},null,8,Je),t[17]||(t[17]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])]),(n(!0),i(p,null,x(y.value,(a,f)=>(n(),i(p,{key:f},[w.value.loansTableRef.includes(f)?r("",!0):(n(),i("td",Be,[e("div",Ae,[c(d(v),{modelValue:u.value.loan_amounts.sub_items[s.id][f],"onUpdate:modelValue":b=>u.value.loan_amounts.sub_items[s.id][f]=b,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:b=>L(u.value.loan_amounts.sub_items[s.id],f),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,8,Ie)])])),g.value.includes(f)?(n(),i("td",et,[c(d(v),{modelValue:S.value[s.id].per_year[f],"onUpdate:modelValue":b=>S.value[s.id].per_year[f]=b,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),t[18]||(t[18]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])):r("",!0)],64))),128)),e("td",null,[c(d(v),{modelValue:S.value[s.id].total,"onUpdate:modelValue":a=>S.value[s.id].total=a,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),t[19]||(t[19]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])],8,We)):r("",!0)],64))),128)),e("tr",{"data-repeater-style":Object.keys(u.value.loan_amounts.sub_items).length},[t[20]||(t[20]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Total",disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"})])],-1)),(n(!0),i(p,null,x(y.value,(s,l)=>(n(),i(p,{key:l},[w.value.loansTableRef.includes(l)?r("",!0):(n(),i("td",lt,[e("div",st,[c(d(v),{modelValue:N.value[l],"onUpdate:modelValue":a=>N.value[l]=a,min:0,"input-class":"text-center",disabled:"",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",fluid:""},null,8,["modelValue","onUpdate:modelValue"])])])),g.value.includes(l)?(n(),i("td",at,[c(d(v),{modelValue:$.value.per_year[l],"onUpdate:modelValue":a=>$.value.per_year[l]=a,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue","onUpdate:modelValue"])])):r("",!0)],64))),128)),e("td",null,[c(d(v),{modelValue:$.value.total,"onUpdate:modelValue":t[4]||(t[4]=s=>$.value.total=s),min:0,minFractionDigits:0,maxFractionDigits:2,"input-class":"text-center",suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue"])])],8,tt)])])])])):r("",!0)])])):r("",!0),O.value?(n(),i("div",it,[e("div",nt,[e("div",ot,[t[21]||(t[21]=e("div",{class:"col-md-11"},[e("div",{class:"d-flex align-items-center"},[e("h3",{class:"font-weight-bold form-label kt-subheader__title small-caps"}," Administration Fees Rate & ECL Rate ")])],-1)),e("div",dt,[e("div",ut,[e("div",{onClick:t[5]||(t[5]=s=>V.value.feesRates=!V.value.feesRates),class:"btn show-hide-style"}," Show/Hide ")])]),t[22]||(t[22]=e("div",{class:"col-md-12"},[e("hr",{style:{"background-color":"lightgray"}})],-1))]),V.value.feesRates?(n(),i("div",rt,[e("div",ct,[e("table",mt,[e("thead",null,[e("tr",null,[t[23]||(t[23]=e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class"}," Item ",-1)),(n(!0),i(p,null,x(y.value,(s,l)=>(n(),i("th",{key:l,class:"form-label font-weight-bold text-center align-middle header-border-down"},[e("span",ft,q(s),1)]))),128))])]),e("tbody",null,[u.value.admin_fees?(n(),i("tr",pt,[t[24]||(t[24]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Administration Fees Rate",disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(p,null,x(y.value,(s,l)=>(n(),i("td",{key:l},[e("div",vt,[c(d(v),{modelValue:u.value.admin_fees[l],"onUpdate:modelValue":a=>u.value.admin_fees[l]=a,min:0,"input-class":"text-center",minFractionDigits:2,suffix:" %",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:a=>L(u.value.admin_fees,l),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,8,bt)])]))),128))])):r("",!0),u.value.admin_fees?(n(),i("tr",ht,[t[25]||(t[25]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Expected Credit Loss Rate (ECL %)",disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(p,null,x(y.value,(s,l)=>(n(),i("td",{key:l},[e("div",gt,[c(d(v),{modelValue:u.value.ecl_rates[l],"onUpdate:modelValue":a=>u.value.ecl_rates[l]=a,min:0,"input-class":"text-center",minFractionDigits:2,suffix:" %",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:a=>L(u.value.ecl_rates,l),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,8,_t)])]))),128))])):r("",!0)])])])])):r("",!0)])])):r("",!0),O.value?(n(),i("div",yt,[e("div",xt,[e("div",wt,[t[26]||(t[26]=e("div",{class:"col-md-11"},[e("div",{class:"d-flex align-items-center"},[e("h3",{class:"font-weight-bold form-label kt-subheader__title small-caps"}," Leasing New Portfolio Funding Structure ")])],-1)),e("div",Vt,[e("div",kt,[e("div",{onClick:t[6]||(t[6]=s=>V.value.fundingStructure=!V.value.fundingStructure),class:"btn show-hide-style"}," Show/Hide ")])]),t[27]||(t[27]=e("div",{class:"col-md-12"},[e("hr",{style:{"background-color":"lightgray"}})],-1))]),V.value.fundingStructure?(n(),i("div",Ft,[e("div",Tt,[e("table",Rt,[e("thead",null,[e("tr",null,[t[30]||(t[30]=e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class"}," Item ",-1)),(n(!0),i(p,null,x(y.value,(s,l)=>(n(),i(p,{key:l},[w.value.fundingTableRef.includes(l)?r("",!0):(n(),i("th",Dt,[e("span",Ct,q(s),1)])),g.value.includes(l)?(n(),i("th",Ut,[e("div",Lt,[e("span",Et,[t[28]||(t[28]=m("Total Yr. ",-1)),t[29]||(t[29]=e("br",null,null,-1)),m(" "+q(Y.value[l]),1)]),e("i",{onClick:a=>H("fundingTableRef",l),title:"Expand / Collapse",class:"cursor-pointer fa fa-expand-arrows-alt text-primary exclude-icon"},null,8,Pt)])])):r("",!0)],64))),128)),t[31]||(t[31]=e("th",{class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},[e("div",{class:"d-flex flex-column align-items-center",style:{gap:"10px"}},[e("span",{class:""},[m("Total "),e("br")])])],-1))])]),e("tbody",null,[e("tr",qt,[t[34]||(t[34]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Equity Funding Rate (%)",disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(p,null,x(y.value,(s,l)=>(n(),i(p,{key:l},[w.value.fundingTableRef.includes(l)?r("",!0):(n(),i("td",St,[e("div",$t,[c(d(v),{modelValue:u.value.equity_funding_rates[l],"onUpdate:modelValue":a=>u.value.equity_funding_rates[l]=a,min:0,max:100,"input-class":"text-center",minFractionDigits:2,suffix:" %",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:a=>L(u.value.equity_funding_rates,l),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,8,Ot)])])),g.value.includes(l)?(n(),i("td",jt,[c(d(I),{value:"-",pt:{root:{class:"text-center"}},disabled:"",fluid:""}),t[32]||(t[32]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])):r("",!0)],64))),128)),e("td",null,[c(d(v),{min:0,minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""}),t[33]||(t[33]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])]),e("tr",Gt,[t[35]||(t[35]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Equity Funding Value",disabled:"",class:"form-control min-width-hover-300 text-left mt-3",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(p,null,x(y.value,(s,l)=>(n(),i(p,{key:l},[w.value.fundingTableRef.includes(l)?r("",!0):(n(),i("td",Nt,[e("div",Mt,[c(d(v),{modelValue:X.value[l],"onUpdate:modelValue":a=>X.value[l]=a,min:0,disabled:"","input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",fluid:""},null,8,["modelValue","onUpdate:modelValue"])])])),g.value.includes(l)?(n(),i("td",Yt,[c(d(v),{min:0,"input-class":"text-center",modelValue:K.value.per_year[l],minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue"])])):r("",!0)],64))),128)),e("td",null,[c(d(v),{min:0,"input-class":"text-center",modelValue:K.value.total,minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue"])])]),e("tr",Ht,[t[38]||(t[38]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"New Loans Funding Rate (%)",disabled:"",class:"form-control min-width-hover-300 text-left mt-3",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(p,null,x(y.value,(s,l)=>(n(),i(p,{key:l},[w.value.fundingTableRef.includes(l)?r("",!0):(n(),i("td",Xt,[e("div",Kt,[c(d(v),{modelValue:Z.value[l],"onUpdate:modelValue":a=>Z.value[l]=a,min:0,disabled:"","input-class":"text-center",minFractionDigits:2,maxFractionDigits:2,suffix:" %",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:a=>L(u.value.equity_funding_rates,l),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,8,Zt)])])),g.value.includes(l)?(n(),i("td",Qt,[c(d(I),{value:"-",pt:{root:{class:"text-center"}},disabled:"",fluid:""}),t[36]||(t[36]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])):r("",!0)],64))),128)),e("td",null,[c(d(v),{min:0,minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""}),t[37]||(t[37]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])]),e("tr",Wt,[t[42]||(t[42]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"New Loans Funding Value",disabled:"",class:"form-control min-width-hover-300 text-left mt-3",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(p,null,x(y.value,(s,l)=>(n(),i(p,{key:l},[w.value.fundingTableRef.includes(l)?r("",!0):(n(),i("td",zt,[e("div",Jt,[c(d(v),{modelValue:Q.value[l],"onUpdate:modelValue":a=>Q.value[l]=a,min:0,disabled:"","input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),t[39]||(t[39]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,-1))])])),g.value.includes(l)?(n(),i("td",Bt,[c(d(v),{min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,modelValue:W.value.per_year[l],suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue"]),t[40]||(t[40]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])):r("",!0)],64))),128)),e("td",null,[c(d(v),{min:0,"v-model":W.value.total,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["v-model"]),t[41]||(t[41]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])])])])])])):r("",!0)])])):r("",!0),e("div",At,[e("div",It,[D.value?r("",!0):(n(),i("button",{key:0,onClick:B,disabled:T.value,"data-button-value":"save-and-go-to-next-value",type:"submit",class:"btn text-white active-style save-form"},[T.value?(n(),i("span",tl)):r("",!0),e("span",{class:"text-lg","data-button-value":"save-and-go-to-next-value",innerHTML:T.value?"Saving...":"Save & Go To Next"},null,8,ll)],8,el))])])]))}},al=ne(sl,[["__scopeId","data-v-b7c851fc"]]),j=de(al);j.component("VueDatePicker",ue);j.config.globalProperties.$swal=re;j.config.globalProperties.$helper=C;j.use(ce,{theme:{preset:me}}).mount("#app-leasing");
