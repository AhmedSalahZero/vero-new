import{a4 as ne,a5 as k,aj as F,a7 as oe,c as i,h as r,o as n,a as e,Z as m,X as p,_ as x,W as c,a9 as d,aa as P,a6 as C,ab as v,t as q,A as I,a8 as ee,ae as de,af as ue,ag as re,ah as ce,ai as me}from"./sweetalert2.esm.all-DYUtdcnG.js";const fe={key:0},pe={class:"kt-portlet"},ve={class:"kt-portlet__body"},be={class:"row"},he={class:"col-md-1"},ge={class:"d-flex justify-content-end"},ye={key:0,class:"row mt-4"},_e={class:"col-md-12"},xe={class:"table"},we=["data-repeater-style"],Ve={class:"text-center"},ke=["disabled","onClick"],Fe={class:"row"},Te={class:"col-md-6"},Re=["disabled"],De={class:"col-md-6"},Ce={class:"d-flex justify-content-end",style:{gap:"5px"}},Ue=["disabled"],Le=["disabled","value"],Ee={key:0,class:"kt-portlet"},Pe={class:"kt-portlet__body"},qe={class:"row"},$e={class:"col-md-1"},Se={class:"d-flex justify-content-end"},Oe={key:0,class:"row mt-4"},je={class:"col-md-12 overflow-scroll"},Ge={class:"table"},Ne={key:0,class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},Ye={class:"text-left d-inline-block"},Me={key:1,class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},He={class:"d-flex align-items-center",style:{gap:"10px"}},Xe={class:"text-left d-inline-block"},Ke=["onClick"],Ze=["data-repeater-style"],Qe={class:"d-flex flex-column align-items-start"},We=["value"],ze={key:0},Je={class:"d-flex flex-column align-items-center"},Be=["onClick"],Ae={key:1},Ie=["data-repeater-style"],et={key:0},tt={class:"d-flex flex-column align-items-center mt-2"},lt={key:1},at={key:1,class:"kt-portlet"},st={class:"kt-portlet__body"},it={class:"row"},nt={class:"col-md-1"},ot={class:"d-flex justify-content-end"},dt={key:0,class:"row mt-4"},ut={class:"col-md-12 overflow-scroll"},rt={class:"table"},ct={class:"text-left d-inline-block"},mt={key:0,"data-repeater-style":1},ft={class:"d-flex flex-column align-items-center mt-2"},pt=["onClick"],vt={key:1,"data-repeater-style":1},bt={class:"d-flex flex-column align-items-center mt-2"},ht=["onClick"],gt={key:2,class:"kt-portlet"},yt={class:"kt-portlet__body"},_t={class:"row"},xt={class:"col-md-1"},wt={class:"d-flex justify-content-end"},Vt={key:0,class:"row mt-4"},kt={class:"col-md-12 overflow-scroll"},Ft={class:"table"},Tt={key:0,class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},Rt={class:"text-left d-inline-block"},Dt={key:1,class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},Ct={class:"d-flex align-items-center",style:{gap:"10px"}},Ut={class:"text-left d-inline-block"},Lt=["onClick"],Et={"data-repeater-style":1},Pt={key:0},qt={class:"d-flex min-w-percentage mx-auto mt-2 text-center flex-column align-items-center"},$t=["onClick"],St={key:1},Ot={"data-repeater-style":2},jt={key:0},Gt={class:"d-flex flex-column align-items-center"},Nt={key:1},Yt={"data-repeater-style":3},Mt={key:0},Ht={class:"d-flex min-w-percentage mx-auto mt-3 text-center flex-column align-items-center"},Xt=["onClick"],Kt={key:1},Zt={"data-repeater-style":4},Qt={key:0},Wt={class:"d-flex flex-column align-items-center mt-3"},zt={key:1},Jt={class:"col-md-12"},Bt={class:"d-flex justify-content-end",style:{gap:"5px"}},At=["disabled"],It={__name:"LeasingComponent",setup(tl){const _=k([]),w=k({loansTableRef:[],fundingTableRef:[]}),M=F(()=>_.value.map(o=>o.split("`").pop())),g=k([]),H=(o,t)=>{const a=g.value.indexOf(t),l=g.value[a-1]+1||0,s=w.value[o].includes(t);for(let f=l;f<=t;f++)s?w.value[o]=w.value[o].filter(b=>!(b>=l&&b<=t)):w.value[o].push(f)},te=F(()=>{const o={loanAmounts:u.value?.loan_amounts?.sub_items},t={};for(const[a,l]of Object.entries(o)){if(!l||!g.value.length){t[a]={subRowTotals:{},totalPerColumns:{},totalRowTotals:{per_year:{},total:0}};continue}const s={subRowTotals:{},totalPerColumns:{},totalRowTotals:{per_year:{},total:0}};for(const b in l){s.subRowTotals[b]={per_year:{},total:0};let h=0;for(const T of g.value){let Y=0;for(let E=h;E<=T;E++){const A=parseFloat(l[b][E]||0);Y+=A,s.totalPerColumns[E]=(s.totalPerColumns[E]||0)+A}s.subRowTotals[b].per_year[T]=Y,s.subRowTotals[b].total+=Y,h=T+1}}let f=0;for(const b of g.value){let h=0;for(let T=f;T<=b;T++)h+=s.totalPerColumns[T]||0;s.totalRowTotals.per_year[b]=h,s.totalRowTotals.total+=h,f=b+1}t[a]=s}return t}),G=F(()=>te.value.loanAmounts||{}),$=F(()=>G.value.subRowTotals),N=F(()=>G.value.totalPerColumns),S=F(()=>G.value.totalRowTotals),U=F(()=>{if(!u.value?.equity_funding_rates||!_.value.length)return{equityFundingValues:[],equityTotals:{per_year:{},total:0},newLoansFundingRates:[],newLoansFundingValues:[],newLoansTotals:{per_year:{},total:0}};const o={equityFundingValues:[],equityTotals:{per_year:{},total:0},newLoansFundingRates:[],newLoansFundingValues:[],newLoansTotals:{per_year:{},total:0}};if(_.value.forEach((t,a)=>{const l=u.value.equity_funding_rates[a]||0,s=N.value[a]||0;o.equityFundingValues[a]=s*(l/100),o.newLoansFundingRates[a]=100-l,o.newLoansFundingValues[a]=s*(o.newLoansFundingRates[a]/100)}),g.value.length){let t=0;for(const a of g.value){let l=0,s=0;for(let f=t;f<=a;f++)l+=o.equityFundingValues[f]||0,s+=o.newLoansFundingValues[f]||0;o.equityTotals.per_year[a]=l,o.newLoansTotals.per_year[a]=s,o.equityTotals.total+=l,o.newLoansTotals.total+=s,t=a+1}}return u.value.equity_funding_values=o.equityFundingValues,u.value.new_loans_funding_rates=o.newLoansFundingRates,u.value.new_loans_funding_values=o.newLoansFundingValues,o}),X=F(()=>U.value.equityFundingValues),K=F(()=>U.value.equityTotals),Z=F(()=>U.value.newLoansFundingRates),Q=F(()=>U.value.newLoansFundingValues),W=F(()=>U.value.newLoansTotals),R=k(!1),y=k(!0),O=k(!1),D=k(!0),le=k(null),z=k(null),J=k({}),u=k(null),V=k({leasingRevenueStreamBreakdown:!0,loanAmounts:!0,feesRates:!0,fundingStructure:!0}),L=(o,t)=>{C.repeatRight(o,t)},ae=o=>{const t=u.value[o].empty_row;return u.value[o].sub_items.push({...t})},se=(o,t)=>{u.value[t].sub_items.splice(o,1)},ie=()=>{const o=document.querySelector("body"),t=o.dataset.token,a=o.dataset.baseUrl,l=o.dataset.currentCompanyId,s=o.dataset.studyId,f=o.dataset.lang,b=`${a}/${f}/${l}/non-banking-financial-services/study/${s}/leasing-fetch-old-data`;ee.get(b,{headers:{"X-CSRF-TOKEN":t,Accept:"application/json"}}).then(h=>{le.value=h.data.studyStartDate,O.value=h.data.hasEnteredRevenueStreamBreakdown,_.value=h.data.dates,g.value=h.data.lastMonthIndexInEachYear,y.value=!h.data.hasEnteredRevenueStreamBreakdown,u.value=h.data.model,J.value=h.data.selectOptions,z.value=h.data.submitUrl,D.value=!1}).catch(h=>{D.value=!1;const T=h.response?.data?.message||"An error occurred";Swal.fire({icon:"error",title:"Oops...",text:T})})},B=o=>{u.value.submit_button=o.target.getAttribute("data-button-value"),R.value=!0;const a=document.querySelector("body").dataset.token;ee.post(z.value,u.value,{headers:{"X-CSRF-TOKEN":a,Accept:"application/json"}}).then(l=>{R.value=!1,window.location.href=l.data.redirectTo}).catch(l=>{const s=l.response?.data?.message||"An error occurred";R.value=!1,Swal.fire({icon:"error",title:"Oops...",text:s})})};return oe(()=>{ie()}),(o,t)=>D.value?r("",!0):(n(),i("div",fe,[e("div",pe,[e("div",ve,[e("div",be,[t[7]||(t[7]=e("div",{class:"col-md-11"},[e("div",{class:"d-flex align-items-center"},[e("h3",{class:"font-weight-bold form-label kt-subheader__title small-caps"}," Leasing Revenue Stream ")])],-1)),e("div",he,[e("div",ge,[e("div",{onClick:t[0]||(t[0]=a=>V.value.leasingRevenueStreamBreakdown=!V.value.leasingRevenueStreamBreakdown),class:"btn show-hide-style"}," Show/Hide ")])]),t[8]||(t[8]=e("div",{class:"col-md-12"},[e("hr",{style:{"background-color":"lightgray"}})],-1))]),V.value.leasingRevenueStreamBreakdown?(n(),i("div",ye,[e("div",_e,[e("table",xe,[t[10]||(t[10]=e("thead",null,[e("tr",null,[e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class-16"},[e("div",{class:"d-flex align-items-center justify-content-center"},[e("span",null,[m("Leasing "),e("br"),m(" Category")])])]),e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class-13"},[e("span",{class:"text-left d-inline-block"},[m("Loan "),e("br"),m(" Nature")])]),e("th",{class:"form-label font-weight-bold text-center align-middle loan-type-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Loan "),e("br"),m(" Type")])]),e("th",{class:"form-label font-weight-bold text-center align-middle rate-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Tenor "),e("br"),m(" Months")])]),e("th",{class:"form-label font-weight-bold text-center align-middle rate-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Grace "),e("br"),m(" Period")])]),e("th",{class:"form-label font-weight-bold text-center align-middle rate-class header-border-down"},[e("span",{class:"text-left d-inline-block min-w-percentage"},[m("Spread "),e("br"),m("Rate")])]),e("th",{class:"form-label font-weight-bold text-center align-middle interval-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Installment "),e("br"),m(" Interval")])]),e("th",{class:"form-label font-weight-bold text-center align-middle rate-class header-border-down"},[e("span",{class:"text-left d-inline-block min-w-percentage"},[m("Step "),e("br"),m("Rate (+/-)")])]),e("th",{class:"form-label font-weight-bold text-center align-middle interval-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Step "),e("br"),m("Interval")])]),e("th",{class:"form-label font-weight-bold text-center align-middle col-md-1 action-class"},[e("div",{class:"d-flex align-items-center justify-content-center"},[e("span",{class:""},"Ã—")])])])],-1)),e("tbody",null,[(n(!0),i(p,null,x(u.value.leasingRevenueStreamBreakdown.sub_items,(a,l)=>(n(),i("tr",{key:l,"data-repeater-style":l+1},[e("td",null,[c(d(P),{disabled:!y.value,filter:"",modelValue:a.category_id,"onUpdate:modelValue":s=>a.category_id=s,options:J.value.leasingCategories,optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])]),e("td",null,[c(d(P),{disabled:!y.value,filter:"",modelValue:a.loan_nature,"onUpdate:modelValue":s=>a.loan_nature=s,options:d(C).loanNatures(),optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])]),e("td",null,[c(d(P),{disabled:!y.value,filter:"",modelValue:a.loan_type,"onUpdate:modelValue":s=>a.loan_type=s,options:d(C).loanTypes(),optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])]),e("td",null,[c(d(v),{disabled:!y.value,modelValue:a.tenor,"onUpdate:modelValue":s=>a.tenor=s,min:1,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:0,fluid:""},null,8,["disabled","modelValue","onUpdate:modelValue"])]),e("td",null,[c(d(v),{disabled:!y.value||!a.loan_type.includes("grace"),modelValue:a.grace_period,"onUpdate:modelValue":s=>a.grace_period=s,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:0,fluid:""},null,8,["disabled","modelValue","onUpdate:modelValue"])]),e("td",null,[c(d(v),{disabled:!y.value,maxFractionDigits:2,step:.25,min:0,"input-class":"text-center",max:100,mode:"decimal",showButtons:"",modelValue:a.margin_rate,"onUpdate:modelValue":s=>a.margin_rate=s,suffix:" %",fluid:""},null,8,["disabled","modelValue","onUpdate:modelValue"])]),e("td",null,[c(d(P),{disabled:!y.value,filter:"",modelValue:a.installment_interval,"onUpdate:modelValue":s=>a.installment_interval=s,options:d(C).getInstallmentInterest(),optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])]),e("td",null,[c(d(v),{disabled:!y.value||!a.loan_type.includes("step"),maxFractionDigits:2,step:.25,min:0,"input-class":"text-center",max:100,mode:"decimal",showButtons:"",modelValue:a.step_rate,"onUpdate:modelValue":s=>a.step_rate=s,suffix:" %",fluid:""},null,8,["disabled","modelValue","onUpdate:modelValue"])]),e("td",null,[c(d(P),{disabled:!y.value,filter:"",modelValue:a.step_interval,"onUpdate:modelValue":s=>a.step_interval=s,options:d(C).getStepIntervals(),optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])]),e("td",Ve,[e("button",{disabled:!y.value,onClick:s=>se(l,"leasingRevenueStreamBreakdown"),type:"button",class:"btn btn-danger btn-md btn-danger-style ml-2",title:"Delete"},[...t[9]||(t[9]=[e("i",{class:"fas exclude-icon fa-trash trash-icon"},null,-1)])],8,ke)])],8,we))),128))])]),e("div",Fe,[e("div",Te,[e("input",{disabled:!y.value,onClick:t[1]||(t[1]=a=>ae("leasingRevenueStreamBreakdown")),type:"button",class:"btn btn-primary btn-sm text-white",value:"Add New"},null,8,Re)]),e("div",De,[e("div",Ce,[D.value?r("",!0):(n(),i("input",{key:0,onClick:B,disabled:R.value||!y.value,"data-save-and-continue":"1",type:"submit","data-button-value":"save-categories",class:"btn text-white active-style save-form",value:"Save"},null,8,Ue)),D.value?r("",!0):(n(),i("input",{key:1,disabled:R.value,"data-save-and-continue":"1",type:"submit",class:"btn text-white active-style save-form",onClick:t[2]||(t[2]=a=>y.value=!y.value),value:y.value?"Disable Edit":"Enable Edit"},null,8,Le))])])])])])):r("",!0)])]),O.value?(n(),i("div",Ee,[e("div",Pe,[e("div",qe,[t[11]||(t[11]=e("div",{class:"col-md-11"},[e("div",{class:"d-flex align-items-center"},[e("h3",{class:"font-weight-bold form-label kt-subheader__title small-caps"}," Leasing Revenue Projection By Category [you can use the three dots to repeat within the same year] ")])],-1)),e("div",$e,[e("div",Se,[e("div",{onClick:t[3]||(t[3]=a=>V.value.loanAmounts=!V.value.loanAmounts),class:"btn show-hide-style"}," Show/Hide ")])]),t[12]||(t[12]=e("div",{class:"col-md-12"},[e("hr",{style:{"background-color":"lightgray"}})],-1))]),V.value.loanAmounts?(n(),i("div",Oe,[e("div",je,[e("table",Ge,[e("thead",null,[e("tr",null,[t[15]||(t[15]=e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class"}," Item ",-1)),(n(!0),i(p,null,x(_.value,(a,l)=>(n(),i(p,{key:l},[w.value.loansTableRef.includes(l)?r("",!0):(n(),i("th",Ne,[e("span",Ye,q(a),1)])),g.value.includes(l)?(n(),i("th",Me,[e("div",He,[e("span",Xe,[t[13]||(t[13]=m("Total Yr. ",-1)),t[14]||(t[14]=e("br",null,null,-1)),m(" "+q(M.value[l]),1)]),e("i",{onClick:s=>H("loansTableRef",l),title:"Expand / Collapse",class:"cursor-pointer fa fa-expand-arrows-alt text-primary exclude-icon"},null,8,Ke)])])):r("",!0)],64))),128)),t[16]||(t[16]=e("th",{class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},[e("div",{class:"d-flex flex-column align-items-center",style:{gap:"10px"}},[e("span",{class:""},[m("Total "),e("br")])])],-1))])]),e("tbody",null,[(n(!0),i(p,null,x(u.value.leasingRevenueStreamBreakdown.sub_items,(a,l)=>(n(),i(p,{key:l},[u.value.loan_amounts.sub_items[a.id]?(n(),i("tr",{key:0,"data-repeater-style":l+1},[e("td",null,[e("div",Qe,[e("input",{value:u.value.loan_amounts.names[a.id],disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"},null,8,We),t[17]||(t[17]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])]),(n(!0),i(p,null,x(_.value,(s,f)=>(n(),i(p,{key:f},[w.value.loansTableRef.includes(f)?r("",!0):(n(),i("td",ze,[e("div",Je,[c(d(v),{modelValue:u.value.loan_amounts.sub_items[a.id][f],"onUpdate:modelValue":b=>u.value.loan_amounts.sub_items[a.id][f]=b,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:b=>L(u.value.loan_amounts.sub_items[a.id],f),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,8,Be)])])),g.value.includes(f)?(n(),i("td",Ae,[c(d(v),{modelValue:$.value[a.id].per_year[f],"onUpdate:modelValue":b=>$.value[a.id].per_year[f]=b,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),t[18]||(t[18]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])):r("",!0)],64))),128)),e("td",null,[c(d(v),{modelValue:$.value[a.id].total,"onUpdate:modelValue":s=>$.value[a.id].total=s,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),t[19]||(t[19]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])],8,Ze)):r("",!0)],64))),128)),e("tr",{"data-repeater-style":Object.keys(u.value.loan_amounts.sub_items).length},[t[20]||(t[20]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Total",disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"})])],-1)),(n(!0),i(p,null,x(_.value,(a,l)=>(n(),i(p,{key:l},[w.value.loansTableRef.includes(l)?r("",!0):(n(),i("td",et,[e("div",tt,[c(d(v),{modelValue:N.value[l],"onUpdate:modelValue":s=>N.value[l]=s,min:0,"input-class":"text-center",disabled:"",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",fluid:""},null,8,["modelValue","onUpdate:modelValue"])])])),g.value.includes(l)?(n(),i("td",lt,[c(d(v),{modelValue:S.value.per_year[l],"onUpdate:modelValue":s=>S.value.per_year[l]=s,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue","onUpdate:modelValue"])])):r("",!0)],64))),128)),e("td",null,[c(d(v),{modelValue:S.value.total,"onUpdate:modelValue":t[4]||(t[4]=a=>S.value.total=a),min:0,minFractionDigits:0,maxFractionDigits:2,"input-class":"text-center",suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue"])])],8,Ie)])])])])):r("",!0)])])):r("",!0),O.value?(n(),i("div",at,[e("div",st,[e("div",it,[t[21]||(t[21]=e("div",{class:"col-md-11"},[e("div",{class:"d-flex align-items-center"},[e("h3",{class:"font-weight-bold form-label kt-subheader__title small-caps"}," Administration Fees Rate & ECL Rate ")])],-1)),e("div",nt,[e("div",ot,[e("div",{onClick:t[5]||(t[5]=a=>V.value.feesRates=!V.value.feesRates),class:"btn show-hide-style"}," Show/Hide ")])]),t[22]||(t[22]=e("div",{class:"col-md-12"},[e("hr",{style:{"background-color":"lightgray"}})],-1))]),V.value.feesRates?(n(),i("div",dt,[e("div",ut,[e("table",rt,[e("thead",null,[e("tr",null,[t[23]||(t[23]=e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class"}," Item ",-1)),(n(!0),i(p,null,x(_.value,(a,l)=>(n(),i("th",{key:l,class:"form-label font-weight-bold text-center align-middle header-border-down"},[e("span",ct,q(a),1)]))),128))])]),e("tbody",null,[u.value.admin_fees?(n(),i("tr",mt,[t[24]||(t[24]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Administration Fees Rate",disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(p,null,x(_.value,(a,l)=>(n(),i("td",{key:l},[e("div",ft,[c(d(v),{modelValue:u.value.admin_fees[l],"onUpdate:modelValue":s=>u.value.admin_fees[l]=s,min:0,"input-class":"text-center",minFractionDigits:2,suffix:" %",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:s=>L(u.value.admin_fees,l),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,8,pt)])]))),128))])):r("",!0),u.value.admin_fees?(n(),i("tr",vt,[t[25]||(t[25]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Expected Credit Loss Rate (ECL %)",disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(p,null,x(_.value,(a,l)=>(n(),i("td",{key:l},[e("div",bt,[c(d(v),{modelValue:u.value.ecl_rates[l],"onUpdate:modelValue":s=>u.value.ecl_rates[l]=s,min:0,"input-class":"text-center",minFractionDigits:2,suffix:" %",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:s=>L(u.value.ecl_rates,l),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,8,ht)])]))),128))])):r("",!0)])])])])):r("",!0)])])):r("",!0),O.value?(n(),i("div",gt,[e("div",yt,[e("div",_t,[t[26]||(t[26]=e("div",{class:"col-md-11"},[e("div",{class:"d-flex align-items-center"},[e("h3",{class:"font-weight-bold form-label kt-subheader__title small-caps"}," Leasing New Portfolio Funding Structure ")])],-1)),e("div",xt,[e("div",wt,[e("div",{onClick:t[6]||(t[6]=a=>V.value.fundingStructure=!V.value.fundingStructure),class:"btn show-hide-style"}," Show/Hide ")])]),t[27]||(t[27]=e("div",{class:"col-md-12"},[e("hr",{style:{"background-color":"lightgray"}})],-1))]),V.value.fundingStructure?(n(),i("div",Vt,[e("div",kt,[e("table",Ft,[e("thead",null,[e("tr",null,[t[30]||(t[30]=e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class"}," Item ",-1)),(n(!0),i(p,null,x(_.value,(a,l)=>(n(),i(p,{key:l},[w.value.fundingTableRef.includes(l)?r("",!0):(n(),i("th",Tt,[e("span",Rt,q(a),1)])),g.value.includes(l)?(n(),i("th",Dt,[e("div",Ct,[e("span",Ut,[t[28]||(t[28]=m("Total Yr. ",-1)),t[29]||(t[29]=e("br",null,null,-1)),m(" "+q(M.value[l]),1)]),e("i",{onClick:s=>H("fundingTableRef",l),title:"Expand / Collapse",class:"cursor-pointer fa fa-expand-arrows-alt text-primary exclude-icon"},null,8,Lt)])])):r("",!0)],64))),128)),t[31]||(t[31]=e("th",{class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},[e("div",{class:"d-flex flex-column align-items-center",style:{gap:"10px"}},[e("span",{class:""},[m("Total "),e("br")])])],-1))])]),e("tbody",null,[e("tr",Et,[t[34]||(t[34]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Equity Funding Rate (%)",disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(p,null,x(_.value,(a,l)=>(n(),i(p,{key:l},[w.value.fundingTableRef.includes(l)?r("",!0):(n(),i("td",Pt,[e("div",qt,[c(d(v),{modelValue:u.value.equity_funding_rates[l],"onUpdate:modelValue":s=>u.value.equity_funding_rates[l]=s,min:0,max:100,"input-class":"text-center",minFractionDigits:2,suffix:" %",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:s=>L(u.value.equity_funding_rates,l),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,8,$t)])])),g.value.includes(l)?(n(),i("td",St,[c(d(I),{value:"-",pt:{root:{class:"text-center"}},disabled:"",fluid:""}),t[32]||(t[32]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])):r("",!0)],64))),128)),e("td",null,[c(d(v),{min:0,minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""}),t[33]||(t[33]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])]),e("tr",Ot,[t[35]||(t[35]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Equity Funding Value",disabled:"",class:"form-control min-width-hover-300 text-left mt-3",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(p,null,x(_.value,(a,l)=>(n(),i(p,{key:l},[w.value.fundingTableRef.includes(l)?r("",!0):(n(),i("td",jt,[e("div",Gt,[c(d(v),{modelValue:X.value[l],"onUpdate:modelValue":s=>X.value[l]=s,min:0,disabled:"","input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",fluid:""},null,8,["modelValue","onUpdate:modelValue"])])])),g.value.includes(l)?(n(),i("td",Nt,[c(d(v),{min:0,"input-class":"text-center",modelValue:K.value.per_year[l],minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue"])])):r("",!0)],64))),128)),e("td",null,[c(d(v),{min:0,"input-class":"text-center",modelValue:K.value.total,minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue"])])]),e("tr",Yt,[t[38]||(t[38]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"New Loans Funding Rate (%)",disabled:"",class:"form-control min-width-hover-300 text-left mt-3",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(p,null,x(_.value,(a,l)=>(n(),i(p,{key:l},[w.value.fundingTableRef.includes(l)?r("",!0):(n(),i("td",Mt,[e("div",Ht,[c(d(v),{modelValue:Z.value[l],"onUpdate:modelValue":s=>Z.value[l]=s,min:0,disabled:"","input-class":"text-center",minFractionDigits:2,maxFractionDigits:2,suffix:" %",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:s=>L(u.value.equity_funding_rates,l),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,8,Xt)])])),g.value.includes(l)?(n(),i("td",Kt,[c(d(I),{value:"-",pt:{root:{class:"text-center"}},disabled:"",fluid:""}),t[36]||(t[36]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])):r("",!0)],64))),128)),e("td",null,[c(d(v),{min:0,minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""}),t[37]||(t[37]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])]),e("tr",Zt,[t[42]||(t[42]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"New Loans Funding Value",disabled:"",class:"form-control min-width-hover-300 text-left mt-3",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(p,null,x(_.value,(a,l)=>(n(),i(p,{key:l},[w.value.fundingTableRef.includes(l)?r("",!0):(n(),i("td",Qt,[e("div",Wt,[c(d(v),{modelValue:Q.value[l],"onUpdate:modelValue":s=>Q.value[l]=s,min:0,disabled:"","input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),t[39]||(t[39]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,-1))])])),g.value.includes(l)?(n(),i("td",zt,[c(d(v),{min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,modelValue:W.value.per_year[l],suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue"]),t[40]||(t[40]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])):r("",!0)],64))),128)),e("td",null,[c(d(v),{min:0,"v-model":W.value.total,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["v-model"]),t[41]||(t[41]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])])])])])])):r("",!0)])])):r("",!0),e("div",Jt,[e("div",Bt,[D.value?r("",!0):(n(),i("input",{key:0,onClick:B,disabled:R.value,"data-save-and-continue":"1",type:"submit","data-button-value":"save-and-go-to-next-value",class:"btn text-white active-style save-form",value:"Save & Go To Next"},null,8,At))])])]))}},el=ne(It,[["__scopeId","data-v-86a879a8"]]),j=de(el);j.component("VueDatePicker",ue);j.config.globalProperties.$swal=re;j.config.globalProperties.$helper=C;j.use(ce,{theme:{preset:me}}).mount("#app-leasing");
