import{a7 as ie,a8 as w,ak as V,a9 as L,aa as ne,c as i,o as n,a as e,h as c,W as r,ab as oe,a3 as $,al as G,Z as m,X as f,_,a5 as d,ad as R,a6 as p,t as E,A as B,ac as A,af as de,ag as ue,ah as re,ai as ce,aj as me}from"./sweetalert2.esm.all-BZlhcBbH.js";const fe={class:"row"},ve={key:0,class:"col-md-12"},pe={class:"kt-portlet"},be={class:"kt-portlet__body exclude"},he={class:"col-md-12"},ge={key:0},_e={class:"kt-portlet"},ye={class:"kt-portlet__body"},xe={class:"row"},we={class:"col-md-1"},Ve={class:"d-flex justify-content-end"},ke={class:"row mt-4"},Fe={class:"col-md-12"},Te={class:"table"},De=["data-repeater-style"],Le={class:"text-center"},Ue=["disabled","onClick"],Ce={class:"row"},Re={class:"col-md-6"},Ee=["disabled"],qe={class:"col-md-6"},Se={class:"d-flex justify-content-end",style:{gap:"5px"}},Pe=["disabled"],$e={key:0,class:"spinner-border mr-2 spinner-border-sm mb-1",role:"status","aria-hidden":"true"},Ge=["innerHTML"],Oe=["disabled","value"],je={key:0,class:"kt-portlet"},Ne={class:"kt-portlet__body"},Me={class:"row"},He={class:"col-md-1"},Ye={class:"d-flex justify-content-end"},Xe={class:"row mt-4"},Ke={class:"col-md-12 overflow-scroll"},Ze={class:"table"},Qe={key:0,class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},We={class:"text-left d-inline-block"},ze={key:1,class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},Je={class:"d-flex align-items-center",style:{gap:"10px"}},Be={class:"text-left d-inline-block"},Ae=["onClick"],Ie=["data-repeater-style"],et={class:"d-flex flex-column align-items-start"},tt=["value"],lt={key:0},st={class:"d-flex flex-column align-items-center"},at=["onClick"],it={key:1},nt=["data-repeater-style"],ot={key:0},dt={class:"d-flex flex-column align-items-center mt-2"},ut={key:1},rt={key:1,class:"kt-portlet"},ct={class:"kt-portlet__body"},mt={class:"row"},ft={class:"col-md-1"},vt={class:"d-flex justify-content-end"},pt={class:"row mt-4"},bt={class:"col-md-12 overflow-scroll"},ht={class:"table"},gt={class:"text-left d-inline-block"},_t={key:0,"data-repeater-style":1},yt={class:"d-flex flex-column align-items-center mt-2"},xt=["onClick"],wt={key:1,"data-repeater-style":1},Vt={class:"d-flex flex-column align-items-center mt-2"},kt=["onClick"],Ft={key:2,class:"kt-portlet"},Tt={class:"kt-portlet__body"},Dt={class:"row"},Lt={class:"col-md-1"},Ut={class:"d-flex justify-content-end"},Ct={class:"row mt-4"},Rt={class:"col-md-12 overflow-scroll"},Et={class:"table"},qt={key:0,class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},St={class:"text-left d-inline-block"},Pt={key:1,class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},$t={class:"d-flex align-items-center",style:{gap:"10px"}},Gt={class:"text-left d-inline-block"},Ot=["onClick"],jt={"data-repeater-style":1},Nt={key:0},Mt={class:"d-flex min-w-percentage mx-auto mt-2 text-center flex-column align-items-center"},Ht=["onClick"],Yt={key:1},Xt={"data-repeater-style":2},Kt={key:0},Zt={class:"d-flex flex-column align-items-center"},Qt={key:1},Wt={"data-repeater-style":3},zt={key:0},Jt={class:"d-flex min-w-percentage mx-auto mt-3 text-center flex-column align-items-center"},Bt=["onClick"],At={key:1},It={"data-repeater-style":4},el={key:0},tl={class:"d-flex flex-column align-items-center mt-3"},ll={key:1},sl={class:"mt-3"},al={class:"col-md-12"},il={class:"d-flex align-items-center justify-content-end",style:{gap:"5px"}},nl=["disabled"],ol={key:0,class:"spinner-border mr-2 spinner-border-sm mb-1",role:"status","aria-hidden":"true"},dl=["innerHTML"],ul={__name:"LeasingComponent",setup(cl){const b=w([]),y=w({loansTableRef:[],fundingTableRef:[]}),H=V(()=>b.value.map(o=>o.split("`").pop())),v=w([]),Y=(o,t)=>{const s=v.value.indexOf(t),l=v.value[s-1]+1||0,a=y.value[o].includes(t);for(let h=l;h<=t;h++)a?y.value[o]=y.value[o].filter(T=>!(T>=l&&T<=t)):y.value[o].push(h)},I=V(()=>({loanAmounts:L.calculateTableTotals(v,u.value?.loan_amounts?.sub_items,{})})),j=V(()=>I.value.loanAmounts||{}),q=V(()=>j.value.subRowTotals),N=V(()=>j.value.totalPerColumns),S=V(()=>j.value.totalRowTotals),U=V(()=>{if(!u.value?.equity_funding_rates||!b.value.length)return{equityFundingValues:[],equityTotals:{per_year:{},total:0},newLoansFundingRates:[],newLoansFundingValues:[],newLoansTotals:{per_year:{},total:0}};const o={equityFundingValues:[],equityTotals:{per_year:{},total:0},newLoansFundingRates:[],newLoansFundingValues:[],newLoansTotals:{per_year:{},total:0}};if(b.value.forEach((t,s)=>{const l=u.value.equity_funding_rates[s]||0,a=N.value[s]||0;o.equityFundingValues[s]=a*(l/100),o.newLoansFundingRates[s]=100-l,o.newLoansFundingValues[s]=a*(o.newLoansFundingRates[s]/100)}),v.value.length){let t=0;for(const s of v.value){let l=0,a=0;for(let h=t;h<=s;h++)l+=o.equityFundingValues[h]||0,a+=o.newLoansFundingValues[h]||0;o.equityTotals.per_year[s]=l,o.newLoansTotals.per_year[s]=a,o.equityTotals.total+=l,o.newLoansTotals.total+=a,console.log(a),t=s+1}}return u.value.equity_funding_values=o.equityFundingValues,u.value.new_loans_funding_rates=o.newLoansFundingRates,u.value.new_loans_funding_values=o.newLoansFundingValues,o}),X=V(()=>U.value.equityFundingValues),K=V(()=>U.value.equityTotals),Z=V(()=>U.value.newLoansFundingRates),Q=V(()=>U.value.newLoansFundingValues),M=V(()=>U.value.newLoansTotals),k=w(!1),g=w(!0),P=w(!1),D=w(!0),ee=w(null),W=w(null),z=w({}),u=w(null),x=w({leasingRevenueStreamBreakdown:!0,loanAmounts:!0,feesRates:!0,fundingStructure:!0}),C=(o,t,s)=>{L.repeatRight(o,t,s)},te=o=>{const t=u.value[o].empty_row;return u.value[o].sub_items.push({...t})},le=(o,t)=>{u.value[t].sub_items.splice(o,1)},se=()=>{const o=document.querySelector("body"),t=o.dataset.token,s=o.dataset.baseUrl,l=o.dataset.currentCompanyId,a=o.dataset.studyId,h=o.dataset.lang,T=`${s}/${h}/${l}/non-banking-financial-services/study/${a}/leasing-fetch-old-data`;A.get(T,{headers:{"X-CSRF-TOKEN":t,Accept:"application/json"}}).then(F=>{ee.value=F.data.studyStartDate,P.value=F.data.hasEnteredRevenueStreamBreakdown,b.value=F.data.dates,v.value=F.data.lastMonthIndexInEachYear,g.value=!F.data.hasEnteredRevenueStreamBreakdown,u.value=F.data.model,z.value=F.data.selectOptions,W.value=F.data.submitUrl,D.value=!1}).catch(F=>{D.value=!1;const ae=F.response?.data?.message||"An error occurred";Swal.fire({icon:"error",title:"Oops...",text:ae})})},J=o=>{u.value.submit_button=o.target.getAttribute("data-button-value"),k.value=!0;const s=document.querySelector("body").dataset.token;A.post(W.value,u.value,{headers:{"X-CSRF-TOKEN":s,Accept:"application/json"}}).then(l=>{k.value=!1,Swal.fire({icon:"success",title:"Success",text:"Your data has been saved",draggable:!0,timer:2e3}).then(a=>{k.value=!1,window.location.href=l.data.redirectTo})}).catch(l=>{const a=l.response?.data?.message||"An error occurred";k.value=!1,Swal.fire({icon:"error",title:"Oops...",text:a})})};return ne(()=>{se()}),(o,t)=>(n(),i(f,null,[e("div",fe,[D.value?(n(),i("div",ve,[e("div",pe,[e("div",be,[e("div",he,[r(oe,{isLoading:D.value},null,8,["isLoading"])])])])])):c("",!0)]),D.value?c("",!0):(n(),i("div",ge,[e("div",_e,[e("div",ye,[e("div",xe,[t[8]||(t[8]=e("div",{class:"col-md-11"},[e("div",{class:"d-flex align-items-center"},[e("h3",{class:"font-weight-bold form-label kt-subheader__title small-caps"}," Leasing Revenue Stream ")])],-1)),e("div",we,[e("div",Ve,[e("div",{onClick:t[0]||(t[0]=s=>x.value.leasingRevenueStreamBreakdown=!x.value.leasingRevenueStreamBreakdown),class:"btn show-hide-style"}," Show/Hide ")])]),t[9]||(t[9]=e("div",{class:"col-md-12"},[e("hr",{style:{"background-color":"lightgray"}})],-1))]),$(e("div",ke,[e("div",Fe,[e("table",Te,[t[11]||(t[11]=e("thead",null,[e("tr",null,[e("th",{class:"form-label font-weight-bold text-center align-middle col-md-1 action-class"},[e("div",{class:"d-flex align-items-center justify-content-center"},[e("span",{class:""},"Ã—")])]),e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class-16"},[e("div",{class:"d-flex align-items-center justify-content-center"},[e("span",null,[m("Leasing "),e("br"),m(" Category")])])]),e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class-13"},[e("span",{class:"text-left d-inline-block"},[m("Loan "),e("br"),m(" Nature")])]),e("th",{class:"form-label font-weight-bold text-center align-middle loan-type-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Loan "),e("br"),m(" Type")])]),e("th",{class:"form-label font-weight-bold text-center align-middle rate-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Tenor "),e("br"),m(" Months")])]),e("th",{class:"form-label font-weight-bold text-center align-middle rate-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Grace "),e("br"),m(" Period")])]),e("th",{class:"form-label font-weight-bold text-center align-middle rate-class header-border-down"},[e("span",{class:"text-left d-inline-block min-w-percentage"},[m("Spread "),e("br"),m("Rate")])]),e("th",{class:"form-label font-weight-bold text-center align-middle interval-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Installment "),e("br"),m(" Interval")])]),e("th",{class:"form-label font-weight-bold text-center align-middle rate-class header-border-down"},[e("span",{class:"text-left d-inline-block min-w-percentage"},[m("Step "),e("br"),m("Rate (+/-)")])]),e("th",{class:"form-label font-weight-bold text-center align-middle interval-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Step "),e("br"),m("Interval")])])])],-1)),e("tbody",null,[(n(!0),i(f,null,_(u.value.leasingRevenueStreamBreakdown.sub_items,(s,l)=>(n(),i("tr",{key:l,"data-repeater-style":l+1},[e("td",Le,[e("button",{disabled:!g.value,onClick:a=>le(l,"leasingRevenueStreamBreakdown"),type:"button",class:"btn btn-danger btn-md btn-danger-style ml-2",title:"Delete"},[...t[10]||(t[10]=[e("i",{class:"fas exclude-icon fa-trash trash-icon"},null,-1)])],8,Ue)]),e("td",null,[r(d(R),{disabled:!g.value,filter:"",modelValue:s.category_id,"onUpdate:modelValue":a=>s.category_id=a,options:z.value.leasingCategories,optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])]),e("td",null,[r(d(R),{disabled:!g.value,filter:"",modelValue:s.loan_nature,"onUpdate:modelValue":a=>s.loan_nature=a,options:d(L).loanNatures(),optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])]),e("td",null,[r(d(R),{disabled:!g.value,filter:"",modelValue:s.loan_type,"onUpdate:modelValue":a=>s.loan_type=a,options:d(L).loanTypes(),optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])]),e("td",null,[r(d(p),{disabled:!g.value,modelValue:s.tenor,"onUpdate:modelValue":a=>s.tenor=a,min:1,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:0,fluid:""},null,8,["disabled","modelValue","onUpdate:modelValue"])]),e("td",null,[r(d(p),{disabled:!g.value||!s.loan_type.includes("grace"),modelValue:s.grace_period,"onUpdate:modelValue":a=>s.grace_period=a,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:0,fluid:""},null,8,["disabled","modelValue","onUpdate:modelValue"])]),e("td",null,[r(d(p),{disabled:!g.value,maxFractionDigits:2,step:.25,min:0,"input-class":"text-center",max:100,mode:"decimal",showButtons:"",modelValue:s.margin_rate,"onUpdate:modelValue":a=>s.margin_rate=a,suffix:" %",fluid:""},null,8,["disabled","modelValue","onUpdate:modelValue"])]),e("td",null,[r(d(R),{disabled:!g.value,filter:"",modelValue:s.installment_interval,"onUpdate:modelValue":a=>s.installment_interval=a,options:d(L).getInstallmentInterest(),optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])]),e("td",null,[r(d(p),{disabled:!g.value||!s.loan_type.includes("step"),maxFractionDigits:2,step:.25,min:0,"input-class":"text-center",max:100,mode:"decimal",showButtons:"",modelValue:s.step_rate,"onUpdate:modelValue":a=>s.step_rate=a,suffix:" %",fluid:""},null,8,["disabled","modelValue","onUpdate:modelValue"])]),e("td",null,[r(d(R),{disabled:!g.value,filter:"",modelValue:s.step_interval,"onUpdate:modelValue":a=>s.step_interval=a,options:d(L).getStepIntervals(),optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])])],8,De))),128))])]),e("div",Ce,[e("div",Re,[e("input",{disabled:!g.value,onClick:t[1]||(t[1]=s=>te("leasingRevenueStreamBreakdown")),type:"button",class:"btn btn-primary btn-sm text-white",value:"Add New"},null,8,Ee)]),e("div",qe,[e("div",Se,[D.value?c("",!0):(n(),i("button",{key:0,onClick:J,disabled:k.value||!g.value,"data-button-value":"save-categories",type:"submit",class:"btn text-white active-style save-form"},[k.value?(n(),i("span",$e)):c("",!0),e("span",{class:"text-lg","data-button-value":"save-categories",innerHTML:k.value?"Saving...":"Save"},null,8,Ge)],8,Pe)),D.value?c("",!0):(n(),i("input",{key:1,disabled:k.value,type:"submit",class:"btn text-white active-style save-form",onClick:t[2]||(t[2]=s=>g.value=!g.value),value:g.value?"Disable Edit":"Enable Edit"},null,8,Oe))])])])])],512),[[G,x.value.leasingRevenueStreamBreakdown]])])]),P.value?(n(),i("div",je,[e("div",Ne,[e("div",Me,[t[12]||(t[12]=e("div",{class:"col-md-11"},[e("div",{class:"d-flex align-items-center"},[e("h3",{class:"font-weight-bold form-label kt-subheader__title small-caps"}," Leasing Revenue Projection By Category [you can use the three dots to repeat within the same year] ")])],-1)),e("div",He,[e("div",Ye,[e("div",{onClick:t[3]||(t[3]=s=>x.value.loanAmounts=!x.value.loanAmounts),class:"btn show-hide-style"}," Show/Hide ")])]),t[13]||(t[13]=e("div",{class:"col-md-12"},[e("hr",{style:{"background-color":"lightgray"}})],-1))]),$(e("div",Xe,[e("div",Ke,[e("table",Ze,[e("thead",null,[e("tr",null,[t[16]||(t[16]=e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class"}," Item ",-1)),(n(!0),i(f,null,_(b.value,(s,l)=>(n(),i(f,{key:l},[y.value.loansTableRef.includes(l)?c("",!0):(n(),i("th",Qe,[e("span",We,E(s),1)])),v.value.length>1&&v.value.includes(l)?(n(),i("th",ze,[e("div",Je,[e("span",Be,[t[14]||(t[14]=m("Total Yr. ",-1)),t[15]||(t[15]=e("br",null,null,-1)),m(" "+E(H.value[l]),1)]),e("i",{onClick:a=>Y("loansTableRef",l),title:"Expand / Collapse",class:"cursor-pointer fa fa-expand-arrows-alt text-primary exclude-icon"},null,8,Ae)])])):c("",!0)],64))),128)),t[17]||(t[17]=e("th",{class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},[e("div",{class:"d-flex flex-column align-items-center",style:{gap:"10px"}},[e("span",{class:""},[m("Total "),e("br")])])],-1))])]),e("tbody",null,[(n(!0),i(f,null,_(u.value.leasingRevenueStreamBreakdown.sub_items,(s,l)=>(n(),i(f,{key:l},[u.value.loan_amounts.sub_items[s.id]?(n(),i("tr",{key:0,"data-repeater-style":l+1},[e("td",null,[e("div",et,[e("input",{value:u.value.loan_amounts.names[s.id],disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"},null,8,tt),t[18]||(t[18]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])]),(n(!0),i(f,null,_(b.value,(a,h)=>(n(),i(f,{key:h},[y.value.loansTableRef.includes(h)?c("",!0):(n(),i("td",lt,[e("div",st,[r(d(p),{modelValue:u.value.loan_amounts.sub_items[s.id][h],"onUpdate:modelValue":T=>u.value.loan_amounts.sub_items[s.id][h]=T,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:T=>C(u.value.loan_amounts.sub_items[s.id],h,b.value),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,8,at)])])),v.value.length>1&&v.value.includes(h)?(n(),i("td",it,[r(d(p),{modelValue:q.value[s.id].per_year[h],"onUpdate:modelValue":T=>q.value[s.id].per_year[h]=T,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),t[19]||(t[19]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])):c("",!0)],64))),128)),e("td",null,[r(d(p),{modelValue:q.value[s.id].total,"onUpdate:modelValue":a=>q.value[s.id].total=a,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),t[20]||(t[20]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])],8,Ie)):c("",!0)],64))),128)),e("tr",{"data-repeater-style":Object.keys(u.value.loan_amounts.sub_items).length},[t[21]||(t[21]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Total",disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"})])],-1)),(n(!0),i(f,null,_(b.value,(s,l)=>(n(),i(f,{key:l},[y.value.loansTableRef.includes(l)?c("",!0):(n(),i("td",ot,[e("div",dt,[r(d(p),{modelValue:N.value[l],"onUpdate:modelValue":a=>N.value[l]=a,min:0,"input-class":"text-center",disabled:"",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",fluid:""},null,8,["modelValue","onUpdate:modelValue"])])])),v.value.length>1&&v.value.includes(l)?(n(),i("td",ut,[r(d(p),{modelValue:S.value.per_year[l],"onUpdate:modelValue":a=>S.value.per_year[l]=a,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue","onUpdate:modelValue"])])):c("",!0)],64))),128)),e("td",null,[r(d(p),{modelValue:S.value.total,"onUpdate:modelValue":t[4]||(t[4]=s=>S.value.total=s),min:0,minFractionDigits:0,maxFractionDigits:2,"input-class":"text-center",suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue"])])],8,nt)])])])],512),[[G,x.value.loanAmounts]])])])):c("",!0),P.value?(n(),i("div",rt,[e("div",ct,[e("div",mt,[t[22]||(t[22]=e("div",{class:"col-md-11"},[e("div",{class:"d-flex align-items-center"},[e("h3",{class:"font-weight-bold form-label kt-subheader__title small-caps"}," Administration Fees Rate & ECL Rate ")])],-1)),e("div",ft,[e("div",vt,[e("div",{onClick:t[5]||(t[5]=s=>x.value.feesRates=!x.value.feesRates),class:"btn show-hide-style"}," Show/Hide ")])]),t[23]||(t[23]=e("div",{class:"col-md-12"},[e("hr",{style:{"background-color":"lightgray"}})],-1))]),$(e("div",pt,[e("div",bt,[e("table",ht,[e("thead",null,[e("tr",null,[t[24]||(t[24]=e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class"}," Item ",-1)),(n(!0),i(f,null,_(b.value,(s,l)=>(n(),i("th",{key:l,class:"form-label font-weight-bold text-center align-middle header-border-down"},[e("span",gt,E(s),1)]))),128))])]),e("tbody",null,[u.value.admin_fees?(n(),i("tr",_t,[t[25]||(t[25]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Administration Fees Rate",disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(f,null,_(b.value,(s,l)=>(n(),i("td",{key:l},[e("div",yt,[r(d(p),{modelValue:u.value.admin_fees[l],"onUpdate:modelValue":a=>u.value.admin_fees[l]=a,min:0,"input-class":"text-center",minFractionDigits:2,suffix:" %",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:a=>C(u.value.admin_fees,l,b.value),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,8,xt)])]))),128))])):c("",!0),u.value.admin_fees?(n(),i("tr",wt,[t[26]||(t[26]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Expected Credit Loss Rate (ECL %)",disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(f,null,_(b.value,(s,l)=>(n(),i("td",{key:l},[e("div",Vt,[r(d(p),{modelValue:u.value.ecl_rates[l],"onUpdate:modelValue":a=>u.value.ecl_rates[l]=a,min:0,"input-class":"text-center",minFractionDigits:2,suffix:" %",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:a=>C(u.value.ecl_rates,l,b.value),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,8,kt)])]))),128))])):c("",!0)])])])],512),[[G,x.value.feesRates]])])])):c("",!0),P.value?(n(),i("div",Ft,[e("div",Tt,[e("div",Dt,[t[27]||(t[27]=e("div",{class:"col-md-11"},[e("div",{class:"d-flex align-items-center"},[e("h3",{class:"font-weight-bold form-label kt-subheader__title small-caps"}," Leasing New Portfolio Funding Structure ")])],-1)),e("div",Lt,[e("div",Ut,[e("div",{onClick:t[6]||(t[6]=s=>x.value.fundingStructure=!x.value.fundingStructure),class:"btn show-hide-style"}," Show/Hide ")])]),t[28]||(t[28]=e("div",{class:"col-md-12"},[e("hr",{style:{"background-color":"lightgray"}})],-1))]),$(e("div",Ct,[e("div",Rt,[e("table",Et,[e("thead",null,[e("tr",null,[t[31]||(t[31]=e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class"}," Item ",-1)),(n(!0),i(f,null,_(b.value,(s,l)=>(n(),i(f,{key:l},[y.value.fundingTableRef.includes(l)?c("",!0):(n(),i("th",qt,[e("span",St,E(s),1)])),v.value.length>1&&v.value.includes(l)?(n(),i("th",Pt,[e("div",$t,[e("span",Gt,[t[29]||(t[29]=m("Total Yr. ",-1)),t[30]||(t[30]=e("br",null,null,-1)),m(" "+E(H.value[l]),1)]),e("i",{onClick:a=>Y("fundingTableRef",l),title:"Expand / Collapse",class:"cursor-pointer fa fa-expand-arrows-alt text-primary exclude-icon"},null,8,Ot)])])):c("",!0)],64))),128)),t[32]||(t[32]=e("th",{class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},[e("div",{class:"d-flex flex-column align-items-center",style:{gap:"10px"}},[e("span",{class:""},[m("Total "),e("br")])])],-1))])]),e("tbody",null,[e("tr",jt,[t[35]||(t[35]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Equity Funding Rate (%)",disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(f,null,_(b.value,(s,l)=>(n(),i(f,{key:l},[y.value.fundingTableRef.includes(l)?c("",!0):(n(),i("td",Nt,[e("div",Mt,[r(d(p),{modelValue:u.value.equity_funding_rates[l],"onUpdate:modelValue":a=>u.value.equity_funding_rates[l]=a,min:0,max:100,"input-class":"text-center",minFractionDigits:2,suffix:" %",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:a=>C(u.value.equity_funding_rates,l,b.value),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,8,Ht)])])),v.value.length>1&&v.value.includes(l)?(n(),i("td",Yt,[r(d(B),{value:"-",pt:{root:{class:"text-center"}},disabled:"",fluid:""}),t[33]||(t[33]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])):c("",!0)],64))),128)),e("td",null,[r(d(p),{min:0,minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""}),t[34]||(t[34]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])]),e("tr",Xt,[t[36]||(t[36]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Equity Funding Value",disabled:"",class:"form-control min-width-hover-300 text-left mt-3",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(f,null,_(b.value,(s,l)=>(n(),i(f,{key:l},[y.value.fundingTableRef.includes(l)?c("",!0):(n(),i("td",Kt,[e("div",Zt,[r(d(p),{modelValue:X.value[l],"onUpdate:modelValue":a=>X.value[l]=a,min:0,disabled:"","input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",fluid:""},null,8,["modelValue","onUpdate:modelValue"])])])),v.value.length>1&&v.value.includes(l)?(n(),i("td",Qt,[r(d(p),{min:0,"input-class":"text-center",modelValue:K.value.per_year[l],minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue"])])):c("",!0)],64))),128)),e("td",null,[r(d(p),{min:0,"input-class":"text-center",modelValue:K.value.total,minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue"])])]),e("tr",Wt,[t[39]||(t[39]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"New Loans Funding Rate (%)",disabled:"",class:"form-control min-width-hover-300 text-left mt-3",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(f,null,_(b.value,(s,l)=>(n(),i(f,{key:l},[y.value.fundingTableRef.includes(l)?c("",!0):(n(),i("td",zt,[e("div",Jt,[r(d(p),{modelValue:Z.value[l],"onUpdate:modelValue":a=>Z.value[l]=a,min:0,disabled:"","input-class":"text-center",minFractionDigits:2,maxFractionDigits:2,suffix:" %",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:a=>C(u.value.equity_funding_rates,l,b.value),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right",style:{visibility:"hidden"}},null,8,Bt)])])),v.value.length>1&&v.value.includes(l)?(n(),i("td",At,[r(d(B),{value:"-",pt:{root:{class:"text-center"}},disabled:"",fluid:""}),t[37]||(t[37]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])):c("",!0)],64))),128)),e("td",null,[r(d(p),{min:0,minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""}),t[38]||(t[38]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])]),e("tr",It,[t[43]||(t[43]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start mt-3"},[e("input",{value:"New Loans Funding Value",disabled:"",class:"form-control min-width-hover-300 text-left",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(f,null,_(b.value,(s,l)=>(n(),i(f,{key:l},[y.value.fundingTableRef.includes(l)?c("",!0):(n(),i("td",el,[e("div",tl,[r(d(p),{modelValue:Q.value[l],"onUpdate:modelValue":a=>Q.value[l]=a,min:0,disabled:"","input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),t[40]||(t[40]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,-1))])])),v.value.length>1&&v.value.includes(l)?(n(),i("td",ll,[r(d(p),{min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,modelValue:M.value.per_year[l],suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue"]),t[41]||(t[41]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])):c("",!0)],64))),128)),e("td",null,[e("div",sl,[r(d(p),{min:0,modelValue:M.value.total,"onUpdate:modelValue":t[7]||(t[7]=s=>M.value.total=s),"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue"]),t[42]||(t[42]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])])])])])])],512),[[G,x.value.fundingStructure]])])])):c("",!0),e("div",al,[e("div",il,[D.value?c("",!0):(n(),i("button",{key:0,onClick:J,disabled:k.value,"data-button-value":"save-and-go-to-next-value",type:"submit",class:"btn text-white active-style save-form"},[k.value?(n(),i("span",ol)):c("",!0),e("span",{class:"text-lg","data-button-value":"save-and-go-to-next-value",innerHTML:k.value?"Saving...":"Save & Go To Next"},null,8,dl)],8,nl))])])]))],64))}},rl=ie(ul,[["__scopeId","data-v-201f2e76"]]),O=de(rl);O.component("VueDatePicker",ue);O.config.globalProperties.$swal=re;O.config.globalProperties.$helper=L;O.use(ce,{theme:{preset:me}}).mount("#app-leasing");
