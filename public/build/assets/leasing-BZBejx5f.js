import{a4 as ie,a5 as w,aj as V,a6 as D,a7 as ne,c as i,h as c,o as n,a as e,a3 as S,ak as G,Z as m,X as v,_,W as r,a9 as d,aa as R,ab as p,t as E,A as B,a8 as A,ae as oe,af as de,ag as ue,ah as re,ai as ce}from"./sweetalert2.esm.all-DNSgMTmu.js";const me={key:0},fe={class:"kt-portlet"},ve={class:"kt-portlet__body"},pe={class:"row"},be={class:"col-md-1"},he={class:"d-flex justify-content-end"},ge={class:"row mt-4"},_e={class:"col-md-12"},ye={class:"table"},xe=["data-repeater-style"],we={class:"text-center"},Ve=["disabled","onClick"],ke={class:"row"},Fe={class:"col-md-6"},Te=["disabled"],De={class:"col-md-6"},Ue={class:"d-flex justify-content-end",style:{gap:"5px"}},Le=["disabled"],Ce={key:0,class:"spinner-border mr-2 spinner-border-sm mb-1",role:"status","aria-hidden":"true"},Re=["innerHTML"],Ee=["disabled","value"],qe={key:0,class:"kt-portlet"},Pe={class:"kt-portlet__body"},$e={class:"row"},Se={class:"col-md-1"},Ge={class:"d-flex justify-content-end"},Oe={class:"row mt-4"},je={class:"col-md-12 overflow-scroll"},Ne={class:"table"},Me={key:0,class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},He={class:"text-left d-inline-block"},Ye={key:1,class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},Xe={class:"d-flex align-items-center",style:{gap:"10px"}},Ke={class:"text-left d-inline-block"},Ze=["onClick"],Qe=["data-repeater-style"],We={class:"d-flex flex-column align-items-start"},ze=["value"],Je={key:0},Be={class:"d-flex flex-column align-items-center"},Ae=["onClick"],Ie={key:1},et=["data-repeater-style"],tt={key:0},lt={class:"d-flex flex-column align-items-center mt-2"},at={key:1},st={key:1,class:"kt-portlet"},it={class:"kt-portlet__body"},nt={class:"row"},ot={class:"col-md-1"},dt={class:"d-flex justify-content-end"},ut={class:"row mt-4"},rt={class:"col-md-12 overflow-scroll"},ct={class:"table"},mt={class:"text-left d-inline-block"},ft={key:0,"data-repeater-style":1},vt={class:"d-flex flex-column align-items-center mt-2"},pt=["onClick"],bt={key:1,"data-repeater-style":1},ht={class:"d-flex flex-column align-items-center mt-2"},gt=["onClick"],_t={key:2,class:"kt-portlet"},yt={class:"kt-portlet__body"},xt={class:"row"},wt={class:"col-md-1"},Vt={class:"d-flex justify-content-end"},kt={class:"row mt-4"},Ft={class:"col-md-12 overflow-scroll"},Tt={class:"table"},Dt={key:0,class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},Ut={class:"text-left d-inline-block"},Lt={key:1,class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},Ct={class:"d-flex align-items-center",style:{gap:"10px"}},Rt={class:"text-left d-inline-block"},Et=["onClick"],qt={"data-repeater-style":1},Pt={key:0},$t={class:"d-flex min-w-percentage mx-auto mt-2 text-center flex-column align-items-center"},St=["onClick"],Gt={key:1},Ot={"data-repeater-style":2},jt={key:0},Nt={class:"d-flex flex-column align-items-center"},Mt={key:1},Ht={"data-repeater-style":3},Yt={key:0},Xt={class:"d-flex min-w-percentage mx-auto mt-3 text-center flex-column align-items-center"},Kt=["onClick"],Zt={key:1},Qt={"data-repeater-style":4},Wt={key:0},zt={class:"d-flex flex-column align-items-center mt-3"},Jt={key:1},Bt={class:"mt-3"},At={class:"col-md-12"},It={class:"d-flex align-items-center justify-content-end",style:{gap:"5px"}},el=["disabled"],tl={key:0,class:"spinner-border mr-2 spinner-border-sm mb-1",role:"status","aria-hidden":"true"},ll=["innerHTML"],al={__name:"LeasingComponent",setup(il){const b=w([]),y=w({loansTableRef:[],fundingTableRef:[]}),H=V(()=>b.value.map(o=>o.split("`").pop())),f=w([]),Y=(o,t)=>{const a=f.value.indexOf(t),l=f.value[a-1]+1||0,s=y.value[o].includes(t);for(let h=l;h<=t;h++)s?y.value[o]=y.value[o].filter(T=>!(T>=l&&T<=t)):y.value[o].push(h)},I=V(()=>({loanAmounts:D.calculateTableTotals(f,u.value?.loan_amounts?.sub_items,{})})),j=V(()=>I.value.loanAmounts||{}),q=V(()=>j.value.subRowTotals),N=V(()=>j.value.totalPerColumns),P=V(()=>j.value.totalRowTotals),L=V(()=>{if(!u.value?.equity_funding_rates||!b.value.length)return{equityFundingValues:[],equityTotals:{per_year:{},total:0},newLoansFundingRates:[],newLoansFundingValues:[],newLoansTotals:{per_year:{},total:0}};const o={equityFundingValues:[],equityTotals:{per_year:{},total:0},newLoansFundingRates:[],newLoansFundingValues:[],newLoansTotals:{per_year:{},total:0}};if(b.value.forEach((t,a)=>{const l=u.value.equity_funding_rates[a]||0,s=N.value[a]||0;o.equityFundingValues[a]=s*(l/100),o.newLoansFundingRates[a]=100-l,o.newLoansFundingValues[a]=s*(o.newLoansFundingRates[a]/100)}),f.value.length){let t=0;for(const a of f.value){let l=0,s=0;for(let h=t;h<=a;h++)l+=o.equityFundingValues[h]||0,s+=o.newLoansFundingValues[h]||0;o.equityTotals.per_year[a]=l,o.newLoansTotals.per_year[a]=s,o.equityTotals.total+=l,o.newLoansTotals.total+=s,console.log(s),t=a+1}}return u.value.equity_funding_values=o.equityFundingValues,u.value.new_loans_funding_rates=o.newLoansFundingRates,u.value.new_loans_funding_values=o.newLoansFundingValues,o}),X=V(()=>L.value.equityFundingValues),K=V(()=>L.value.equityTotals),Z=V(()=>L.value.newLoansFundingRates),Q=V(()=>L.value.newLoansFundingValues),M=V(()=>L.value.newLoansTotals),k=w(!1),g=w(!0),$=w(!1),U=w(!0),ee=w(null),W=w(null),z=w({}),u=w(null),x=w({leasingRevenueStreamBreakdown:!0,loanAmounts:!0,feesRates:!0,fundingStructure:!0}),C=(o,t,a)=>{D.repeatRight(o,t,a)},te=o=>{const t=u.value[o].empty_row;return u.value[o].sub_items.push({...t})},le=(o,t)=>{u.value[t].sub_items.splice(o,1)},ae=()=>{const o=document.querySelector("body"),t=o.dataset.token,a=o.dataset.baseUrl,l=o.dataset.currentCompanyId,s=o.dataset.studyId,h=o.dataset.lang,T=`${a}/${h}/${l}/non-banking-financial-services/study/${s}/leasing-fetch-old-data`;A.get(T,{headers:{"X-CSRF-TOKEN":t,Accept:"application/json"}}).then(F=>{ee.value=F.data.studyStartDate,$.value=F.data.hasEnteredRevenueStreamBreakdown,b.value=F.data.dates,f.value=F.data.lastMonthIndexInEachYear,g.value=!F.data.hasEnteredRevenueStreamBreakdown,u.value=F.data.model,z.value=F.data.selectOptions,W.value=F.data.submitUrl,U.value=!1}).catch(F=>{U.value=!1;const se=F.response?.data?.message||"An error occurred";Swal.fire({icon:"error",title:"Oops...",text:se})})},J=o=>{u.value.submit_button=o.target.getAttribute("data-button-value"),k.value=!0;const a=document.querySelector("body").dataset.token;A.post(W.value,u.value,{headers:{"X-CSRF-TOKEN":a,Accept:"application/json"}}).then(l=>{k.value=!1,window.location.href=l.data.redirectTo}).catch(l=>{const s=l.response?.data?.message||"An error occurred";k.value=!1,Swal.fire({icon:"error",title:"Oops...",text:s})})};return ne(()=>{ae()}),(o,t)=>U.value?c("",!0):(n(),i("div",me,[e("div",fe,[e("div",ve,[e("div",pe,[t[8]||(t[8]=e("div",{class:"col-md-11"},[e("div",{class:"d-flex align-items-center"},[e("h3",{class:"font-weight-bold form-label kt-subheader__title small-caps"}," Leasing Revenue Stream ")])],-1)),e("div",be,[e("div",he,[e("div",{onClick:t[0]||(t[0]=a=>x.value.leasingRevenueStreamBreakdown=!x.value.leasingRevenueStreamBreakdown),class:"btn show-hide-style"}," Show/Hide ")])]),t[9]||(t[9]=e("div",{class:"col-md-12"},[e("hr",{style:{"background-color":"lightgray"}})],-1))]),S(e("div",ge,[e("div",_e,[e("table",ye,[t[11]||(t[11]=e("thead",null,[e("tr",null,[e("th",{class:"form-label font-weight-bold text-center align-middle col-md-1 action-class"},[e("div",{class:"d-flex align-items-center justify-content-center"},[e("span",{class:""},"Ã—")])]),e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class-16"},[e("div",{class:"d-flex align-items-center justify-content-center"},[e("span",null,[m("Leasing "),e("br"),m(" Category")])])]),e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class-13"},[e("span",{class:"text-left d-inline-block"},[m("Loan "),e("br"),m(" Nature")])]),e("th",{class:"form-label font-weight-bold text-center align-middle loan-type-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Loan "),e("br"),m(" Type")])]),e("th",{class:"form-label font-weight-bold text-center align-middle rate-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Tenor "),e("br"),m(" Months")])]),e("th",{class:"form-label font-weight-bold text-center align-middle rate-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Grace "),e("br"),m(" Period")])]),e("th",{class:"form-label font-weight-bold text-center align-middle rate-class header-border-down"},[e("span",{class:"text-left d-inline-block min-w-percentage"},[m("Spread "),e("br"),m("Rate")])]),e("th",{class:"form-label font-weight-bold text-center align-middle interval-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Installment "),e("br"),m(" Interval")])]),e("th",{class:"form-label font-weight-bold text-center align-middle rate-class header-border-down"},[e("span",{class:"text-left d-inline-block min-w-percentage"},[m("Step "),e("br"),m("Rate (+/-)")])]),e("th",{class:"form-label font-weight-bold text-center align-middle interval-class header-border-down"},[e("span",{class:"text-left d-inline-block"},[m("Step "),e("br"),m("Interval")])])])],-1)),e("tbody",null,[(n(!0),i(v,null,_(u.value.leasingRevenueStreamBreakdown.sub_items,(a,l)=>(n(),i("tr",{key:l,"data-repeater-style":l+1},[e("td",we,[e("button",{disabled:!g.value,onClick:s=>le(l,"leasingRevenueStreamBreakdown"),type:"button",class:"btn btn-danger btn-md btn-danger-style ml-2",title:"Delete"},[...t[10]||(t[10]=[e("i",{class:"fas exclude-icon fa-trash trash-icon"},null,-1)])],8,Ve)]),e("td",null,[r(d(R),{disabled:!g.value,filter:"",modelValue:a.category_id,"onUpdate:modelValue":s=>a.category_id=s,options:z.value.leasingCategories,optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])]),e("td",null,[r(d(R),{disabled:!g.value,filter:"",modelValue:a.loan_nature,"onUpdate:modelValue":s=>a.loan_nature=s,options:d(D).loanNatures(),optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])]),e("td",null,[r(d(R),{disabled:!g.value,filter:"",modelValue:a.loan_type,"onUpdate:modelValue":s=>a.loan_type=s,options:d(D).loanTypes(),optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])]),e("td",null,[r(d(p),{disabled:!g.value,modelValue:a.tenor,"onUpdate:modelValue":s=>a.tenor=s,min:1,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:0,fluid:""},null,8,["disabled","modelValue","onUpdate:modelValue"])]),e("td",null,[r(d(p),{disabled:!g.value||!a.loan_type.includes("grace"),modelValue:a.grace_period,"onUpdate:modelValue":s=>a.grace_period=s,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:0,fluid:""},null,8,["disabled","modelValue","onUpdate:modelValue"])]),e("td",null,[r(d(p),{disabled:!g.value,maxFractionDigits:2,step:.25,min:0,"input-class":"text-center",max:100,mode:"decimal",showButtons:"",modelValue:a.margin_rate,"onUpdate:modelValue":s=>a.margin_rate=s,suffix:" %",fluid:""},null,8,["disabled","modelValue","onUpdate:modelValue"])]),e("td",null,[r(d(R),{disabled:!g.value,filter:"",modelValue:a.installment_interval,"onUpdate:modelValue":s=>a.installment_interval=s,options:d(D).getInstallmentInterest(),optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])]),e("td",null,[r(d(p),{disabled:!g.value||!a.loan_type.includes("step"),maxFractionDigits:2,step:.25,min:0,"input-class":"text-center",max:100,mode:"decimal",showButtons:"",modelValue:a.step_rate,"onUpdate:modelValue":s=>a.step_rate=s,suffix:" %",fluid:""},null,8,["disabled","modelValue","onUpdate:modelValue"])]),e("td",null,[r(d(R),{disabled:!g.value,filter:"",modelValue:a.step_interval,"onUpdate:modelValue":s=>a.step_interval=s,options:d(D).getStepIntervals(),optionLabel:"title",optionValue:"id",placeholder:"",checkmark:"",highlightOnSelect:!1,class:"w-full md:w-56"},null,8,["disabled","modelValue","onUpdate:modelValue","options"])])],8,xe))),128))])]),e("div",ke,[e("div",Fe,[e("input",{disabled:!g.value,onClick:t[1]||(t[1]=a=>te("leasingRevenueStreamBreakdown")),type:"button",class:"btn btn-primary btn-sm text-white",value:"Add New"},null,8,Te)]),e("div",De,[e("div",Ue,[U.value?c("",!0):(n(),i("button",{key:0,onClick:J,disabled:k.value||!g.value,"data-button-value":"save-categories",type:"submit",class:"btn text-white active-style save-form"},[k.value?(n(),i("span",Ce)):c("",!0),e("span",{class:"text-lg","data-button-value":"save-categories",innerHTML:k.value?"Saving...":"Save"},null,8,Re)],8,Le)),U.value?c("",!0):(n(),i("input",{key:1,disabled:k.value,type:"submit",class:"btn text-white active-style save-form",onClick:t[2]||(t[2]=a=>g.value=!g.value),value:g.value?"Disable Edit":"Enable Edit"},null,8,Ee))])])])])],512),[[G,x.value.leasingRevenueStreamBreakdown]])])]),$.value?(n(),i("div",qe,[e("div",Pe,[e("div",$e,[t[12]||(t[12]=e("div",{class:"col-md-11"},[e("div",{class:"d-flex align-items-center"},[e("h3",{class:"font-weight-bold form-label kt-subheader__title small-caps"}," Leasing Revenue Projection By Category [you can use the three dots to repeat within the same year] ")])],-1)),e("div",Se,[e("div",Ge,[e("div",{onClick:t[3]||(t[3]=a=>x.value.loanAmounts=!x.value.loanAmounts),class:"btn show-hide-style"}," Show/Hide ")])]),t[13]||(t[13]=e("div",{class:"col-md-12"},[e("hr",{style:{"background-color":"lightgray"}})],-1))]),S(e("div",Oe,[e("div",je,[e("table",Ne,[e("thead",null,[e("tr",null,[t[16]||(t[16]=e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class"}," Item ",-1)),(n(!0),i(v,null,_(b.value,(a,l)=>(n(),i(v,{key:l},[y.value.loansTableRef.includes(l)?c("",!0):(n(),i("th",Me,[e("span",He,E(a),1)])),f.value.length>1&&f.value.includes(l)?(n(),i("th",Ye,[e("div",Xe,[e("span",Ke,[t[14]||(t[14]=m("Total Yr. ",-1)),t[15]||(t[15]=e("br",null,null,-1)),m(" "+E(H.value[l]),1)]),e("i",{onClick:s=>Y("loansTableRef",l),title:"Expand / Collapse",class:"cursor-pointer fa fa-expand-arrows-alt text-primary exclude-icon"},null,8,Ze)])])):c("",!0)],64))),128)),t[17]||(t[17]=e("th",{class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},[e("div",{class:"d-flex flex-column align-items-center",style:{gap:"10px"}},[e("span",{class:""},[m("Total "),e("br")])])],-1))])]),e("tbody",null,[(n(!0),i(v,null,_(u.value.leasingRevenueStreamBreakdown.sub_items,(a,l)=>(n(),i(v,{key:l},[u.value.loan_amounts.sub_items[a.id]?(n(),i("tr",{key:0,"data-repeater-style":l+1},[e("td",null,[e("div",We,[e("input",{value:u.value.loan_amounts.names[a.id],disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"},null,8,ze),t[18]||(t[18]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])]),(n(!0),i(v,null,_(b.value,(s,h)=>(n(),i(v,{key:h},[y.value.loansTableRef.includes(h)?c("",!0):(n(),i("td",Je,[e("div",Be,[r(d(p),{modelValue:u.value.loan_amounts.sub_items[a.id][h],"onUpdate:modelValue":T=>u.value.loan_amounts.sub_items[a.id][h]=T,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:T=>C(u.value.loan_amounts.sub_items[a.id],h,b.value),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,8,Ae)])])),f.value.length>1&&f.value.includes(h)?(n(),i("td",Ie,[r(d(p),{modelValue:q.value[a.id].per_year[h],"onUpdate:modelValue":T=>q.value[a.id].per_year[h]=T,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),t[19]||(t[19]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])):c("",!0)],64))),128)),e("td",null,[r(d(p),{modelValue:q.value[a.id].total,"onUpdate:modelValue":s=>q.value[a.id].total=s,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),t[20]||(t[20]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])],8,Qe)):c("",!0)],64))),128)),e("tr",{"data-repeater-style":Object.keys(u.value.loan_amounts.sub_items).length},[t[21]||(t[21]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Total",disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"})])],-1)),(n(!0),i(v,null,_(b.value,(a,l)=>(n(),i(v,{key:l},[y.value.loansTableRef.includes(l)?c("",!0):(n(),i("td",tt,[e("div",lt,[r(d(p),{modelValue:N.value[l],"onUpdate:modelValue":s=>N.value[l]=s,min:0,"input-class":"text-center",disabled:"",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",fluid:""},null,8,["modelValue","onUpdate:modelValue"])])])),f.value.length>1&&f.value.includes(l)?(n(),i("td",at,[r(d(p),{modelValue:P.value.per_year[l],"onUpdate:modelValue":s=>P.value.per_year[l]=s,min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue","onUpdate:modelValue"])])):c("",!0)],64))),128)),e("td",null,[r(d(p),{modelValue:P.value.total,"onUpdate:modelValue":t[4]||(t[4]=a=>P.value.total=a),min:0,minFractionDigits:0,maxFractionDigits:2,"input-class":"text-center",suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue"])])],8,et)])])])],512),[[G,x.value.loanAmounts]])])])):c("",!0),$.value?(n(),i("div",st,[e("div",it,[e("div",nt,[t[22]||(t[22]=e("div",{class:"col-md-11"},[e("div",{class:"d-flex align-items-center"},[e("h3",{class:"font-weight-bold form-label kt-subheader__title small-caps"}," Administration Fees Rate & ECL Rate ")])],-1)),e("div",ot,[e("div",dt,[e("div",{onClick:t[5]||(t[5]=a=>x.value.feesRates=!x.value.feesRates),class:"btn show-hide-style"}," Show/Hide ")])]),t[23]||(t[23]=e("div",{class:"col-md-12"},[e("hr",{style:{"background-color":"lightgray"}})],-1))]),S(e("div",ut,[e("div",rt,[e("table",ct,[e("thead",null,[e("tr",null,[t[24]||(t[24]=e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class"}," Item ",-1)),(n(!0),i(v,null,_(b.value,(a,l)=>(n(),i("th",{key:l,class:"form-label font-weight-bold text-center align-middle header-border-down"},[e("span",mt,E(a),1)]))),128))])]),e("tbody",null,[u.value.admin_fees?(n(),i("tr",ft,[t[25]||(t[25]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Administration Fees Rate",disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(v,null,_(b.value,(a,l)=>(n(),i("td",{key:l},[e("div",vt,[r(d(p),{modelValue:u.value.admin_fees[l],"onUpdate:modelValue":s=>u.value.admin_fees[l]=s,min:0,"input-class":"text-center",minFractionDigits:2,suffix:" %",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:s=>C(u.value.admin_fees,l,b.value),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,8,pt)])]))),128))])):c("",!0),u.value.admin_fees?(n(),i("tr",bt,[t[26]||(t[26]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Expected Credit Loss Rate (ECL %)",disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(v,null,_(b.value,(a,l)=>(n(),i("td",{key:l},[e("div",ht,[r(d(p),{modelValue:u.value.ecl_rates[l],"onUpdate:modelValue":s=>u.value.ecl_rates[l]=s,min:0,"input-class":"text-center",minFractionDigits:2,suffix:" %",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:s=>C(u.value.ecl_rates,l,b.value),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,8,gt)])]))),128))])):c("",!0)])])])],512),[[G,x.value.feesRates]])])])):c("",!0),$.value?(n(),i("div",_t,[e("div",yt,[e("div",xt,[t[27]||(t[27]=e("div",{class:"col-md-11"},[e("div",{class:"d-flex align-items-center"},[e("h3",{class:"font-weight-bold form-label kt-subheader__title small-caps"}," Leasing New Portfolio Funding Structure ")])],-1)),e("div",wt,[e("div",Vt,[e("div",{onClick:t[6]||(t[6]=a=>x.value.fundingStructure=!x.value.fundingStructure),class:"btn show-hide-style"}," Show/Hide ")])]),t[28]||(t[28]=e("div",{class:"col-md-12"},[e("hr",{style:{"background-color":"lightgray"}})],-1))]),S(e("div",kt,[e("div",Ft,[e("table",Tt,[e("thead",null,[e("tr",null,[t[31]||(t[31]=e("th",{class:"form-label font-weight-bold text-center align-middle header-border-down first-column-th-class"}," Item ",-1)),(n(!0),i(v,null,_(b.value,(a,l)=>(n(),i(v,{key:l},[y.value.fundingTableRef.includes(l)?c("",!0):(n(),i("th",Dt,[e("span",Ut,E(a),1)])),f.value.length>1&&f.value.includes(l)?(n(),i("th",Lt,[e("div",Ct,[e("span",Rt,[t[29]||(t[29]=m("Total Yr. ",-1)),t[30]||(t[30]=e("br",null,null,-1)),m(" "+E(H.value[l]),1)]),e("i",{onClick:s=>Y("fundingTableRef",l),title:"Expand / Collapse",class:"cursor-pointer fa fa-expand-arrows-alt text-primary exclude-icon"},null,8,Et)])])):c("",!0)],64))),128)),t[32]||(t[32]=e("th",{class:"form-label expandable-th-amount-input font-weight-bold text-center align-middle header-border-down"},[e("div",{class:"d-flex flex-column align-items-center",style:{gap:"10px"}},[e("span",{class:""},[m("Total "),e("br")])])],-1))])]),e("tbody",null,[e("tr",qt,[t[35]||(t[35]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Equity Funding Rate (%)",disabled:"",class:"form-control min-width-hover-300 text-left mt-2",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(v,null,_(b.value,(a,l)=>(n(),i(v,{key:l},[y.value.fundingTableRef.includes(l)?c("",!0):(n(),i("td",Pt,[e("div",$t,[r(d(p),{modelValue:u.value.equity_funding_rates[l],"onUpdate:modelValue":s=>u.value.equity_funding_rates[l]=s,min:0,max:100,"input-class":"text-center",minFractionDigits:2,suffix:" %",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:s=>C(u.value.equity_funding_rates,l,b.value),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,8,St)])])),f.value.length>1&&f.value.includes(l)?(n(),i("td",Gt,[r(d(B),{value:"-",pt:{root:{class:"text-center"}},disabled:"",fluid:""}),t[33]||(t[33]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])):c("",!0)],64))),128)),e("td",null,[r(d(p),{min:0,minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""}),t[34]||(t[34]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])]),e("tr",Ot,[t[36]||(t[36]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"Equity Funding Value",disabled:"",class:"form-control min-width-hover-300 text-left mt-3",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(v,null,_(b.value,(a,l)=>(n(),i(v,{key:l},[y.value.fundingTableRef.includes(l)?c("",!0):(n(),i("td",jt,[e("div",Nt,[r(d(p),{modelValue:X.value[l],"onUpdate:modelValue":s=>X.value[l]=s,min:0,disabled:"","input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",fluid:""},null,8,["modelValue","onUpdate:modelValue"])])])),f.value.length>1&&f.value.includes(l)?(n(),i("td",Mt,[r(d(p),{min:0,"input-class":"text-center",modelValue:K.value.per_year[l],minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue"])])):c("",!0)],64))),128)),e("td",null,[r(d(p),{min:0,"input-class":"text-center",modelValue:K.value.total,minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue"])])]),e("tr",Ht,[t[39]||(t[39]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start"},[e("input",{value:"New Loans Funding Rate (%)",disabled:"",class:"form-control min-width-hover-300 text-left mt-3",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(v,null,_(b.value,(a,l)=>(n(),i(v,{key:l},[y.value.fundingTableRef.includes(l)?c("",!0):(n(),i("td",Yt,[e("div",Xt,[r(d(p),{modelValue:Z.value[l],"onUpdate:modelValue":s=>Z.value[l]=s,min:0,disabled:"","input-class":"text-center",minFractionDigits:2,maxFractionDigits:2,suffix:" %",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:s=>C(u.value.equity_funding_rates,l,b.value),class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right",style:{visibility:"hidden"}},null,8,Kt)])])),f.value.length>1&&f.value.includes(l)?(n(),i("td",Zt,[r(d(B),{value:"-",pt:{root:{class:"text-center"}},disabled:"",fluid:""}),t[37]||(t[37]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])):c("",!0)],64))),128)),e("td",null,[r(d(p),{min:0,minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""}),t[38]||(t[38]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])]),e("tr",Qt,[t[43]||(t[43]=e("td",null,[e("div",{class:"d-flex flex-column align-items-start mt-3"},[e("input",{value:"New Loans Funding Value",disabled:"",class:"form-control min-width-hover-300 text-left",type:"text"}),e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"})])],-1)),(n(!0),i(v,null,_(b.value,(a,l)=>(n(),i(v,{key:l},[y.value.fundingTableRef.includes(l)?c("",!0):(n(),i("td",Wt,[e("div",zt,[r(d(p),{modelValue:Q.value[l],"onUpdate:modelValue":s=>Q.value[l]=s,min:0,disabled:"","input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),t[40]||(t[40]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h row-repeater-icon cursor-pointer",title:"Repeat Right"},null,-1))])])),f.value.length>1&&f.value.includes(l)?(n(),i("td",Jt,[r(d(p),{min:0,"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,modelValue:M.value.per_year[l],suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue"]),t[41]||(t[41]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])):c("",!0)],64))),128)),e("td",null,[e("div",Bt,[r(d(p),{min:0,modelValue:M.value.total,"onUpdate:modelValue":t[7]||(t[7]=a=>M.value.total=a),"input-class":"text-center",minFractionDigits:0,maxFractionDigits:2,suffix:" EGP",disabled:"",fluid:""},null,8,["modelValue"]),t[42]||(t[42]=e("i",{style:{visibility:"hidden"},class:"fa fa-ellipsis-h"},null,-1))])])])])])])],512),[[G,x.value.fundingStructure]])])])):c("",!0),e("div",At,[e("div",It,[U.value?c("",!0):(n(),i("button",{key:0,onClick:J,disabled:k.value,"data-button-value":"save-and-go-to-next-value",type:"submit",class:"btn text-white active-style save-form"},[k.value?(n(),i("span",tl)):c("",!0),e("span",{class:"text-lg","data-button-value":"save-and-go-to-next-value",innerHTML:k.value?"Saving...":"Save & Go To Next"},null,8,ll)],8,el))])])]))}},sl=ie(al,[["__scopeId","data-v-ae3f9f6a"]]),O=oe(sl);O.component("VueDatePicker",de);O.config.globalProperties.$swal=ue;O.config.globalProperties.$helper=D;O.use(re,{theme:{preset:ce}}).mount("#app-leasing");
